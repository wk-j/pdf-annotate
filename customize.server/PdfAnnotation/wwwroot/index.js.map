{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c69c6c76f83794ed5081","webpack:///./customize.client/index.js","webpack:///./~/twitter-text/twitter-text.js","webpack:///./index.js","webpack:///./src/PDFJSAnnotate.js","webpack:///./src/adapter/StoreAdapter.js","webpack:///./src/utils/abstractFunction.js","webpack:///./src/UI/event.js","webpack:///./~/events/events.js","webpack:///./src/UI/utils.js","webpack:///./~/create-stylesheet/index.js","webpack:///./src/render/appendChild.js","webpack:///./~/object-assign/index.js","webpack:///./src/render/renderLine.js","webpack:///./src/utils/setAttributes.js","webpack:///./src/utils/normalizeColor.js","webpack:///./src/render/renderPath.js","webpack:///./src/render/renderPoint.js","webpack:///./src/render/renderRect.js","webpack:///./src/render/renderText.js","webpack:///./src/render/renderCircle.js","webpack:///./src/render/renderArrow.js","webpack:///./src/utils/mathUtils.js","webpack:///./src/adapter/LocalStoreAdapter.js","webpack:///./src/utils/uuid.js","webpack:///./src/render/index.js","webpack:///./src/a11y/renderScreenReaderHints.js","webpack:///./src/a11y/insertScreenReaderHint.js","webpack:///./src/a11y/createScreenReaderOnly.js","webpack:///./src/a11y/insertElementWithinChildren.js","webpack:///./src/config.js","webpack:///./src/a11y/insertElementWithinElement.js","webpack:///./src/a11y/renderScreenReaderComments.js","webpack:///./src/a11y/insertScreenReaderComment.js","webpack:///./src/a11y/initEventHandlers.js","webpack:///./src/UI/index.js","webpack:///./src/UI/edit.js","webpack:///./src/UI/pen.js","webpack:///./src/UI/arrow.js","webpack:///./src/UI/point.js","webpack:///./src/UI/rect.js","webpack:///./src/UI/circle.js","webpack:///./src/UI/text.js","webpack:///./src/UI/page.js","webpack:///./prebuild/shared/initColorPicker.js","webpack:///./customize.client/customize/HttpStorage.js","webpack:///./~/axios/index.js","webpack:///./~/axios/lib/axios.js","webpack:///./~/axios/lib/utils.js","webpack:///./~/axios/lib/helpers/bind.js","webpack:///./~/is-buffer/index.js","webpack:///./~/axios/lib/core/Axios.js","webpack:///./~/axios/lib/defaults.js","webpack:///./~/process/browser.js","webpack:///./~/axios/lib/helpers/normalizeHeaderName.js","webpack:///./~/axios/lib/adapters/xhr.js","webpack:///./~/axios/lib/core/settle.js","webpack:///./~/axios/lib/core/createError.js","webpack:///./~/axios/lib/core/enhanceError.js","webpack:///./~/axios/lib/helpers/buildURL.js","webpack:///./~/axios/lib/helpers/parseHeaders.js","webpack:///./~/axios/lib/helpers/isURLSameOrigin.js","webpack:///./~/axios/lib/helpers/btoa.js","webpack:///./~/axios/lib/helpers/cookies.js","webpack:///./~/axios/lib/core/InterceptorManager.js","webpack:///./~/axios/lib/core/dispatchRequest.js","webpack:///./~/axios/lib/core/transformData.js","webpack:///./~/axios/lib/cancel/isCancel.js","webpack:///./~/axios/lib/helpers/isAbsoluteURL.js","webpack:///./~/axios/lib/helpers/combineURLs.js","webpack:///./~/axios/lib/cancel/Cancel.js","webpack:///./~/axios/lib/cancel/CancelToken.js","webpack:///./~/axios/lib/helpers/spread.js"],"names":["getDocumentId","path","window","location","href","url","URL","c","searchParams","get","UI","PDFJSAnnotate","documentId","PAGE_HEIGHT","RENDER_OPTIONS","pdfDocument","scale","parseFloat","localStorage","getItem","rotate","parseInt","setStoreAdapter","Http2","PDFJS","workerSrc","NUM_PAGES","renderedPages","okToRender","document","getElementById","addEventListener","e","visiblePageNum","Math","round","target","scrollTop","visiblePage","querySelector","indexOf","push","setTimeout","renderPage","render","getDocument","then","pdf","viewer","innerHTML","pdfInfo","numPages","i","page","createPage","appendChild","pdfPage","annotations","viewport","getViewport","height","hotspotColor","currentTarget","undefined","handleAnnotationClick","type","getAttribute","setArrow","setCircle","a","setAttribute","style","background","handleAnnotationBlur","value","setItem","annotationId","getStoreAdapter","getAnnotation","annotation","color","editAnnotation","textSize","textColor","initText","size","forEach","s","Option","setText","modified","selected","classList","remove","removeAttribute","add","handleTextSizeChange","penSize","penColor","initPen","setPen","handlePenSizeChange","tooltype","setActiveToolbarItem","button","active","disableEdit","disablePen","disableArrow","disableText","disablePoint","disableRect","disableCircle","enableEdit","enablePen","enableArrow","enableText","enablePoint","enableRect","enableCircle","handleToolbarClick","nodeName","setScaleRotate","handleScaleChange","handleRotateCWClick","handleRotateCCWClick","handleClearClick","confirm","removeItem","commentList","commentForm","commentText","supportsComments","insertComment","comment","child","createElement","className","twitter","autoLink","htmlEscape","content","parentNode","getComments","comments","display","focus","onsubmit","addComment","trim","findAnnotationAtPoint","findSVGContainer","convertToScreenPoint","StoreAdapter","LocalStoreAdapter","__storeAdapter","adapter","getAnnotations","pageNumber","arguments","config","uuid","definition","Object","keys","key","commentId","__getAnnotations","fn","__addAnnotation","addAnnotation","__editAnnotation","__deleteAnnotation","deleteAnnotation","success","__addComment","__deleteComment","deleteComment","abstractFunction","name","Error","fireEvent","removeEventListener","emitter","EventEmitter","clickNode","handleDocumentClick","clientX","clientY","emit","on","removeListener","findSVGAtPoint","pointIntersectsRect","getOffsetAnnotationRect","scaleUp","convertToSvgRect","convertToSvgPoint","scaleDown","getScroll","getOffset","disableUserSelect","enableUserSelect","getMetadata","BORDER_COLOR","userSelectStyleSheet","body","node","toUpperCase","x","y","elements","querySelectorAll","l","length","el","rect","getBoundingClientRect","candidate","elementFromPoint","top","bottom","left","right","offsetLeft","offsetTop","width","svg","result","pt1","pt2","min","abs","pt","xform","rotation","offset","scrollLeft","head","removeChild","JSON","parse","getTranslation","transformChild","isFirefox","test","navigator","userAgent","transform","trans","toLowerCase","n","renderLine","group","createElementNS","stroke","strokeWidth","rectangles","r","line","x1","y1","x2","y2","setAttributes","UPPER_REGEX","BLACKLIST","keyCase","replace","match","attributes","normalizeColor","REGEX_HASHLESS_HEX","renderPath","d","lines","p1","p2","join","fill","renderPoint","SIZE","D","outerSVG","innerSVG","viewBox","renderRect","fillOpacity","createRect","renderText","text","fontSize","g","renderCircle","circle","createCircle","cx","cy","renderArrow","arrow","arrowLength","pt0","unitX","unitZ","unitY","thickness","A","B","C","G","F","E","points","applyTransform","applyInverseTransform","translate","makePoint","makeVector","makeVectorFromPoints","addVector","multiplyVector","magnitude","negateVector","unitVector","crossProduct","p","m","xt","yt","m1","m2","angle","PI","cosValue","cos","sinValue","sin","getInverseTransform","z","xcoord","ycoord","zcoord","v","scalar","sqrt","pow","mag","u","Promise","resolve","reject","filter","class","findAnnotation","updateAnnotations","index","splice","stringify","REGEXP","PATTERN","replacement","random","toString","data","Array","isArray","renderScreenReaderHints","SORT_TYPES","sortBy","sort","sortByPoint","b","sortByRectPoint","sortByLinePoint","lineA","lineB","insertScreenReaderHint","COMMENT_TYPES","num","rects","first","last","includes","createScreenReaderOnly","createTextNode","position","overflow","insertElementWithinChildren","nodes","textClassQuery","insertBefore","textLayer","textRect","annotationLayerName","textLayerName","annotationSvgQuery","annotationClassQuery","insertElementWithinElement","OFFSET_ADJUST","max","textLayerElementFromPoint","temp","cloneNode","split","tail","unshift","pop","outerHTML","renderScreenReaderComments","promise","list","insertScreenReaderComment","item","initEventHandlers","reorderAnnotationsByType","removeAnnotation","removeComment","removeElementById","elementId","addCircle","_enabled","isDragging","overlay","dragOffsetX","dragOffsetY","dragStartX","dragStartY","OVERLAY_BORDER_SIZE","createEditOverlay","destroyEditOverlay","anchor","id","styleLeft","styleTop","boxSizing","border","borderRadius","zIndex","padding","textAlign","textDecoration","handleDocumentKeyup","handleDocumentMousedown","borderColor","boxShadow","handleDocumentMousemove","handleDocumentMouseup","keyCode","cursor","minY","maxY","minX","maxX","offsetHeight","offsetWidth","attribX","attribY","modelStart","modelEnd","modelDelta","firstChild","t","modelX","modelY","viewY","viewX","_penSize","_penColor","savePoint","point","originY","originX","event","input","handleInputBlur","handleInputKeyup","closeInput","assign","_type","getSelectionRects","selection","getSelection","range","getRangeAt","getClientRects","saveRect","map","removeAllRanges","boundingRect","_circleRadius","_circleColor","circleRadius","circleColor","saveCircle","radius","svg_pt","oldType","_textSize","_textColor","saveText","PAGE_TEMPLATE","children","canvas","mozOpaque","renderOptions","all","getPage","canvasContext","getContext","alpha","totalRotation","scalePage","getTextContent","normalizeWhitespace","textContent","textLayerFactory","DefaultTextLayerFactory","textLayerBuilder","createTextLayerBuilder","setTextContent","context","wrapper","outputScale","getOutputScale","scaled","sx","sy","sfx","approximateFraction","sfy","visibility","roundToDivide","floor","xinv","limit","x_","q","ctx","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","div","initColorPicker","COLORS","hex","onChange","setColor","fireOnChange","currentValue","closePicker","togglePicker","isPickerOpen","openPicker","picker","createColorOption","margin","onclick","pdfjs","root","console","log","ok","err","axios","post","res","rs","HttpStorageAdapter"],"mappings":"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AkB,OAAO,mBAAmB,MAAM,qBAAqB;AAC/H,gEAA+D,kBAAkB,EAAE,YAAY,EAAE,oBAAoB,OAAO,mBAAmB,MAAM,qBAAqB,GAAG,eAAe;AAC5L,4DAA2D,UAAU;AACrE;AACA,gFAA+E,oBAAoB,KAAK,UAAU;AAClH,sDAAqD,gBAAgB,IAAI,UAAU,qBAAqB,oBAAoB,GAAG,aAAa,EAAE,oBAAoB;;AAElK;AACA;AACA;AACA;AACA,SAAQ,2BAA2B;AACnC,SAAQ,QAAQ;AAChB,oBAAmB,KAAK;AACxB,gCAA+B,KAAK;AACpC;AACA,uDAAsD,OAAO,IAAI,QAAQ,cAAc,KAAK;AAC5F,4DAA2D,QAAQ,IAAI,iBAAiB;;AAExF;AACA,kFAAiF,oBAAoB;AACrG;AACA,4DAA2D,MAAM,EAAE,aAAa,EAAE,oBAAoB;AACtG,2DAA0D,mBAAmB;AAC7E,6DAA4D,iBAAiB,UAAU,iBAAiB,MAAM,iBAAiB;AAC/H,8DAA6D,iBAAiB,OAAO,iBAAiB,MAAM,iBAAiB;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD,eAAe,GAAG,gBAAgB,KAAK,UAAU,GAAG,WAAW,GAAG,cAAc;AACtI,wEAAuE,iBAAiB,YAAY,UAAU,GAAG,WAAW,GAAG,cAAc;AAC7I,4DAA2D,gBAAgB,EAAE,WAAW;AACxF,iEAAgE,gBAAgB,EAAE,kBAAkB;AACpG;AACA;AACA,qEAAoE,wBAAwB,QAAQ,2BAA2B,iBAAiB;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,yBAAyB;AACpC;AACA;AACA;AACA,cAAa,yBAAyB;AACtC;AACA,gBAAe,yBAAyB;AACxC;AACA,cAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE,wBAAwB,UAAU,iBAAiB,OAAO,uBAAuB;AACxJ;AACA;AACA;AACA,UAAS,yBAAyB;AAClC,eAAc,uBAAuB,EAAE,yBAAyB;AAChE,YAAW,wBAAwB;AACnC,gBAAe,yBAAyB;AACxC;;AAEA,6DAA4D;AAC5D;AACA;AACA;AACA,WAAU,uBAAuB;AACjC;AACA;AACA,aAAY,YAAY;AACxB,iBAAgB,gBAAgB;AAChC,gBAAe,aAAa;AAC5B,gBAAe,mBAAmB,GAAG,yBAAyB;AAC9D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sCAAqC,IAAI,aAAa,IAAI;AAC1D,wDAAuD,OAAO,SAAS,QAAQ,aAAa,MAAM;;AAElG;AACA;AACA,2DAA0D,EAAE;AAC5D,wDAAuD;AACvD;AACA,QAAO,sBAAsB;AAC7B,QAAO,sBAAsB;AAC7B,QAAO,qBAAqB;AAC5B;AACA;;AAEA;AACA;AACA,QAAO,sBAAsB;AAC7B,QAAO,sBAAsB;AAC7B,QAAO,qBAAqB;AAC5B;AACA;;AAEA,8EAA6E,EAAE;AAC/E,2DAA0D,oBAAoB,OAAO,oBAAoB,EAAE,EAAE;;AAE7G;AACA;;AAEA;AACA;AACA,QAAO,gBAAgB;AACvB,QAAO,gBAAgB;AACvB;;AAEA;AACA;AACA;AACA;AACA,gEAA+D,4BAA4B,SAAS,yBAAyB,KAAK,qBAAqB;;AAEvJ;AACA,QAAO,cAAc;AACrB,QAAO,kBAAkB;AACzB;;AAEA;AACA;AACA;AACA;AACA,uEAAsE,mCAAmC,SAAS,gCAAgC,KAAK,4BAA4B;;AAEnL;AACA,QAAO,cAAc;AACrB,QAAO,yBAAyB;AAChC;;AAEA,8CAA6C,IAAI;;AAEjD;AACA,YAAW,oBAAoB;AAC/B,SAAQ,uBAAuB;AAC/B,aAAY,gBAAgB;AAC5B;;AAEA;AACA,YAAW,oBAAoB;AAC/B,SAAQ,gBAAgB;AACxB,aAAY,gBAAgB;AAC5B;;AAEA,2DAA0D,iBAAiB;AAC3E,0DAAyD,iBAAiB;AAC1E,6DAA4D,iBAAiB;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,KAAK,GAAG,KAAK;AAC5C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA6C;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC,2BAA0B;AAC1B;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,2DAA0D,kBAAkB,QAAQ,UAAU,OAAO,sBAAsB,UAAU,GAAG,iBAAiB,sCAAsC,uBAAuB,eAAe,UAAU,GAAG,gBAAgB,0CAA0C,UAAU,OAAO,SAAS,kBAAkB;AACxV;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAuF,aAAa;;AAEpG;AACA;AACA;AACA;AACA,mDAAkD,SAAS;AAC3D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAgC,oCAAoC,EAAE;;AAEtE;AACA;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,+BAA+B;AACpD;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gEAA+D,kCAAkC;AACjG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4DAA2D,kCAAkC;AAC7F;AACA;;AAEA;AACA,iCAAgC,oCAAoC,EAAE;;AAEtE;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yEAAwE,uBAAuB;AAC/F;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,mCAAmC;AACtD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,4BAA4B;AAC/C;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,gCAAgC;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,gCAAgC;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAgC,oCAAoC,EAAE;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA,QAAO;AACP;AACA,wBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,iBAAiB;AAChC,kBAAiB,oBAAoB;AACrC;AACA;AACA;;AAEA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC,uBAAuB;AACzD;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,4BAA4B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA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AuC,G;;;;;;ACpD/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA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AAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,SAAS,GAAG,SAAS;AAC5C,4BAA2B;AAC3B;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA,wCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9SA;;AAEA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA,mCAAkC,cAAc;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;AC9EA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,QAAO,YAAY;AACnB;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;AAED;;;;;;;;AC/FA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC;;AAErC;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACvLtC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACXA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA4C;AAC5C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;;;;;;;ACnLA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzBA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;ACjEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;;;;;;;ACpDA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,OAAO;AACrB,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAc,OAAO;AACrB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACnEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAwC;AACxC,QAAO;;AAEP;AACA,2DAA0D,wBAAwB;AAClF;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,iCAAgC;AAChC,8BAA6B,aAAa,EAAE;AAC5C;AACA;AACA,IAAG;AACH;;;;;;;ACpDA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;ACnDA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAA+B;AAC/B,wCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;;;;;;ACrFA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,cAAc;AACzB,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;;;;;;ACnBA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;AClBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA","file":"customize.server/PdfAnnotation/wwwroot/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PDFAnnotate\"] = factory();\n\telse\n\t\troot[\"PDFAnnotate\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c69c6c76f83794ed5081\n **/","import twitter from 'twitter-text';\nimport PDFJSAnnotate from '..';\nimport initColorPicker from '../prebuild/shared/initColorPicker';\nimport { Http2 } from \"./customize/HttpStorage\";\n\nfunction getDocumentId() {\n    var path = window.location.href;\n    var url = new URL(path);\n    var c = url.searchParams.get(\"document\");\n    return `/pdf/${c}`;\n}\n\nconst { UI } = PDFJSAnnotate;\nconst documentId = getDocumentId();\nlet PAGE_HEIGHT;\nlet RENDER_OPTIONS = {\n    documentId,\n    pdfDocument: null,\n    scale: parseFloat(localStorage.getItem(`${documentId}/scale`), 10) || 1.33,\n    rotate: parseInt(localStorage.getItem(`${documentId}/rotate`), 10) || 0\n};\n\n// PDFJSAnnotate.setStoreAdapter(new PDFJSAnnotate.LocalStoreAdapter());\nPDFJSAnnotate.setStoreAdapter(new Http2());\n\nPDFJS.workerSrc = './shared/pdf.worker.js';\n\n// Render stuff\nlet NUM_PAGES = 0;\nlet renderedPages = [];\nlet okToRender = false;\ndocument.getElementById('content-wrapper').addEventListener('scroll', function (e) {\n    let visiblePageNum = Math.round(e.target.scrollTop / PAGE_HEIGHT) + 1;\n    let visiblePage = document.querySelector(`.page[data-page-number=\"${visiblePageNum}\"][data-loaded=\"false\"]`);\n\n    if (renderedPages.indexOf(visiblePageNum) == -1) {\n        okToRender = true;\n        renderedPages.push(visiblePageNum);\n    } else {\n        okToRender = false;\n    }\n\n    if (visiblePage && okToRender) {\n        setTimeout(function () {\n            UI.renderPage(visiblePageNum, RENDER_OPTIONS);\n        });\n    }\n});\n\nfunction render() {\n    PDFJS.getDocument(RENDER_OPTIONS.documentId).then((pdf) => {\n        RENDER_OPTIONS.pdfDocument = pdf;\n\n        let viewer = document.getElementById('viewer');\n        viewer.innerHTML = '';\n        NUM_PAGES = pdf.pdfInfo.numPages;\n        for (let i = 0; i < NUM_PAGES; i++) {\n            let page = UI.createPage(i + 1);\n            viewer.appendChild(page);\n        }\n\n        UI.renderPage(1, RENDER_OPTIONS).then(([pdfPage, annotations]) => {\n            let viewport = pdfPage.getViewport(RENDER_OPTIONS.scale, RENDER_OPTIONS.rotate);\n            PAGE_HEIGHT = viewport.height;\n        });\n    });\n}\nrender();\n\n// Hotspot color stuff\n(function () {\n    let hotspotColor = localStorage.getItem(`${RENDER_OPTIONS.documentId}/hotspot/color`) || 'darkgoldenrod';\n    let currentTarget = undefined;\n\n    function handleAnnotationClick(target) {\n        let type = target.getAttribute('data-pdf-annotate-type');\n        if (['fillcircle', 'arrow'].indexOf(type) === -1) {\n            return; // nothing to do\n        }\n        currentTarget = target;\n        hotspotColor = currentTarget.getAttribute('stroke');\n\n        UI.setArrow(10, hotspotColor);\n        UI.setCircle(10, hotspotColor);\n\n        let a = document.querySelector('.hotspot-color .color');\n        if (a) {\n            a.setAttribute('data-color', hotspotColor);\n            a.style.background = hotspotColor;\n        }\n    }\n\n    function handleAnnotationBlur(target) {\n        if (currentTarget === target) {\n            currentTarget = undefined;\n        }\n    }\n\n    initColorPicker(document.querySelector('.hotspot-color'), hotspotColor, function (value) {\n        if (value === hotspotColor) {\n            return; // nothing to do\n        }\n        localStorage.setItem(`${RENDER_OPTIONS.documentId}/hotspot/color`, value);\n        hotspotColor = value;\n\n        UI.setArrow(10, hotspotColor);\n        UI.setCircle(10, hotspotColor);\n\n        if (!currentTarget) {\n            return; // nothing to do\n        }\n\n        let type = currentTarget.getAttribute('data-pdf-annotate-type');\n        let annotationId = currentTarget.getAttribute('data-pdf-annotate-id');\n        if (['fillcircle', 'arrow'].indexOf(type) === -1) {\n            return; // nothing to do\n        }\n\n        // update target\n        currentTarget.setAttribute('stroke', hotspotColor);\n        currentTarget.setAttribute('fill', hotspotColor);\n\n        // update annotation\n        PDFJSAnnotate.getStoreAdapter().getAnnotation(documentId, annotationId).then((annotation) => {\n            annotation.color = hotspotColor;\n            PDFJSAnnotate.getStoreAdapter().editAnnotation(documentId, annotationId, annotation);\n        });\n    });\n\n    UI.addEventListener('annotation:click', handleAnnotationClick);\n    UI.addEventListener('annotation:blur', handleAnnotationBlur);\n})();\n\n// Text stuff\n(function () {\n    let textSize;\n    let textColor;\n\n    function initText() {\n        let size = document.querySelector('.toolbar .text-size');\n        [8, 9, 10, 11, 12, 14, 18, 24, 30, 36, 48, 60, 72, 96].forEach((s) => {\n            size.appendChild(new Option(s, s));\n        });\n\n        setText(\n            localStorage.getItem(`${RENDER_OPTIONS.documentId}/text/size`) || 10,\n            localStorage.getItem(`${RENDER_OPTIONS.documentId}/text/color`) || '#000000'\n        );\n\n        initColorPicker(document.querySelector('.text-color'), textColor, function (value) {\n            setText(textSize, value);\n        });\n    }\n\n    function setText(size, color) {\n        let modified = false;\n\n        if (textSize !== size) {\n            modified = true;\n            textSize = size;\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/text/size`, textSize);\n            document.querySelector('.toolbar .text-size').value = textSize;\n        }\n\n        if (textColor !== color) {\n            modified = true;\n            textColor = color;\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/text/color`, textColor);\n\n            let selected = document.querySelector('.toolbar .text-color.color-selected');\n            if (selected) {\n                selected.classList.remove('color-selected');\n                selected.removeAttribute('aria-selected');\n            }\n\n            selected = document.querySelector(`.toolbar .text-color[data-color=\"${color}\"]`);\n            if (selected) {\n                selected.classList.add('color-selected');\n                selected.setAttribute('aria-selected', true);\n            }\n\n        }\n\n        if (modified) {\n            UI.setText(textSize, textColor);\n        }\n    }\n\n    function handleTextSizeChange(e) {\n        setText(e.target.value, textColor);\n    }\n\n    document.querySelector('.toolbar .text-size').addEventListener('change', handleTextSizeChange);\n\n    initText();\n})();\n\n// Pen stuff\n(function () {\n    let penSize;\n    let penColor;\n\n    function initPen() {\n        let size = document.querySelector('.toolbar .pen-size');\n        for (let i = 0; i < 20; i++) {\n            size.appendChild(new Option(i + 1, i + 1));\n        }\n\n        setPen(\n            localStorage.getItem(`${RENDER_OPTIONS.documentId}/pen/size`) || 1,\n            localStorage.getItem(`${RENDER_OPTIONS.documentId}/pen/color`) || '#000000'\n        );\n\n        initColorPicker(document.querySelector('.pen-color'), penColor, function (value) {\n            setPen(penSize, value);\n        });\n    }\n\n    function setPen(size, color) {\n        let modified = false;\n\n        if (penSize !== size) {\n            modified = true;\n            penSize = size;\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/pen/size`, penSize);\n            document.querySelector('.toolbar .pen-size').value = penSize;\n        }\n\n        if (penColor !== color) {\n            modified = true;\n            penColor = color;\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/pen/color`, penColor);\n\n            let selected = document.querySelector('.toolbar .pen-color.color-selected');\n            if (selected) {\n                selected.classList.remove('color-selected');\n                selected.removeAttribute('aria-selected');\n            }\n\n            selected = document.querySelector(`.toolbar .pen-color[data-color=\"${color}\"]`);\n            if (selected) {\n                selected.classList.add('color-selected');\n                selected.setAttribute('aria-selected', true);\n            }\n        }\n\n        if (modified) {\n            UI.setPen(penSize, penColor);\n        }\n    }\n\n    function handlePenSizeChange(e) {\n        setPen(e.target.value, penColor);\n    }\n\n    document.querySelector('.toolbar .pen-size').addEventListener('change', handlePenSizeChange);\n\n    initPen();\n})();\n\n// Toolbar buttons\n(function () {\n    let tooltype = localStorage.getItem(`${RENDER_OPTIONS.documentId}/tooltype`) || 'cursor';\n    if (tooltype) {\n        setActiveToolbarItem(tooltype, document.querySelector(`.toolbar button[data-tooltype=${tooltype}]`));\n    }\n\n    function setActiveToolbarItem(type, button) {\n        let active = document.querySelector('.toolbar button.active');\n        if (active) {\n            active.classList.remove('active');\n\n            switch (tooltype) {\n                case 'cursor':\n                    UI.disableEdit();\n                    break;\n                case 'draw':\n                    UI.disablePen();\n                    break;\n                case 'arrow':\n                    UI.disableArrow();\n                    break;\n                case 'text':\n                    UI.disableText();\n                    break;\n                case 'point':\n                    UI.disablePoint();\n                    break;\n                case 'area':\n                case 'highlight':\n                case 'strikeout':\n                    UI.disableRect();\n                    break;\n                case 'circle':\n                case 'emptycircle':\n                case 'fillcircle':\n                    UI.disableCircle();\n                    break;\n            }\n        }\n\n        if (button) {\n            button.classList.add('active');\n        }\n        if (tooltype !== type) {\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/tooltype`, type);\n        }\n        tooltype = type;\n\n        switch (type) {\n            case 'cursor':\n                UI.enableEdit();\n                break;\n            case 'draw':\n                UI.enablePen();\n                break;\n            case 'arrow':\n                UI.enableArrow();\n                break;\n            case 'text':\n                UI.enableText();\n                break;\n            case 'point':\n                UI.enablePoint();\n                break;\n            case 'area':\n            case 'highlight':\n            case 'strikeout':\n                UI.enableRect(type);\n                break;\n            case 'circle':\n            case 'emptycircle':\n            case 'fillcircle':\n                UI.enableCircle(type);\n                break;\n        }\n    }\n\n    function handleToolbarClick(e) {\n        if (e.target.nodeName === 'BUTTON') {\n            setActiveToolbarItem(e.target.getAttribute('data-tooltype'), e.target);\n        }\n    }\n\n    document.querySelector('.toolbar').addEventListener('click', handleToolbarClick);\n})();\n\n// Scale/rotate\n(function () {\n    function setScaleRotate(scale, rotate) {\n        scale = parseFloat(scale, 10);\n        rotate = parseInt(rotate, 10);\n\n        if (RENDER_OPTIONS.scale !== scale || RENDER_OPTIONS.rotate !== rotate) {\n            RENDER_OPTIONS.scale = scale;\n            RENDER_OPTIONS.rotate = rotate;\n\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/scale`, RENDER_OPTIONS.scale);\n            localStorage.setItem(`${RENDER_OPTIONS.documentId}/rotate`, RENDER_OPTIONS.rotate % 360);\n\n            render();\n        }\n    }\n\n    function handleScaleChange(e) {\n        setScaleRotate(e.target.value, RENDER_OPTIONS.rotate);\n    }\n\n    function handleRotateCWClick() {\n        setScaleRotate(RENDER_OPTIONS.scale, RENDER_OPTIONS.rotate + 90);\n    }\n\n    function handleRotateCCWClick() {\n        setScaleRotate(RENDER_OPTIONS.scale, RENDER_OPTIONS.rotate - 90);\n    }\n\n    document.querySelector('.toolbar select.scale').value = RENDER_OPTIONS.scale;\n    document.querySelector('.toolbar select.scale').addEventListener('change', handleScaleChange);\n    document.querySelector('.toolbar .rotate-ccw').addEventListener('click', handleRotateCCWClick);\n    document.querySelector('.toolbar .rotate-cw').addEventListener('click', handleRotateCWClick);\n})();\n\n// Clear toolbar button\n(function () {\n    function handleClearClick(e) {\n        if (confirm('Are you sure you want to clear annotations?')) {\n            for (let i = 0; i < NUM_PAGES; i++) {\n                document.querySelector(`div#pageContainer${i + 1} svg.annotationLayer`).innerHTML = '';\n            }\n\n            localStorage.removeItem(`${RENDER_OPTIONS.documentId}/annotations`);\n        }\n    }\n    document.querySelector('a.clear').addEventListener('click', handleClearClick);\n})();\n\n// Comment stuff\n(function (window, document) {\n    let commentList = document.querySelector('#comment-wrapper .comment-list-container');\n    let commentForm = document.querySelector('#comment-wrapper .comment-list-form');\n    let commentText = commentForm.querySelector('input[type=\"text\"]');\n\n    function supportsComments(target) {\n        let type = target.getAttribute('data-pdf-annotate-type');\n        return ['point', 'highlight', 'area'].indexOf(type) > -1;\n    }\n\n    function insertComment(comment) {\n        let child = document.createElement('div');\n        child.className = 'comment-list-item';\n        child.innerHTML = twitter.autoLink(twitter.htmlEscape(comment.content));\n\n        commentList.appendChild(child);\n    }\n\n    function handleAnnotationClick(target) {\n        if (supportsComments(target)) {\n            let documentId = target.parentNode.getAttribute('data-pdf-annotate-document');\n            let annotationId = target.getAttribute('data-pdf-annotate-id');\n\n            PDFJSAnnotate.getStoreAdapter().getComments(documentId, annotationId).then((comments) => {\n                commentList.innerHTML = '';\n                commentForm.style.display = '';\n                commentText.focus();\n\n                commentForm.onsubmit = function () {\n                    PDFJSAnnotate.getStoreAdapter().addComment(documentId, annotationId, commentText.value.trim())\n                        .then(insertComment)\n                        .then(() => {\n                            commentText.value = '';\n                            commentText.focus();\n                        });\n\n                    return false;\n                };\n\n                comments.forEach(insertComment);\n            });\n        }\n    }\n\n    function handleAnnotationBlur(target) {\n        if (supportsComments(target)) {\n            commentList.innerHTML = '';\n            commentForm.style.display = 'none';\n            commentForm.onsubmit = null;\n\n            insertComment({ content: 'No comments' });\n        }\n    }\n\n    UI.addEventListener('annotation:click', handleAnnotationClick);\n    UI.addEventListener('annotation:blur', handleAnnotationBlur);\n\n    UI.setArrow(10, 'darkgoldenrod');\n    UI.setCircle(10, 'darkgoldenrod')\n\n})(window, document);\n\n\n\n/** WEBPACK FOOTER **\n ** ./customize.client/index.js\n **/","(function() {\n  if (typeof twttr === \"undefined\" || twttr === null) {\n    var twttr = {};\n  }\n\n  twttr.txt = {};\n  twttr.txt.regexen = {};\n\n  var HTML_ENTITIES = {\n    '&': '&amp;',\n    '>': '&gt;',\n    '<': '&lt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  // HTML escaping\n  twttr.txt.htmlEscape = function(text) {\n    return text && text.replace(/[&\"'><]/g, function(character) {\n      return HTML_ENTITIES[character];\n    });\n  };\n\n  // Builds a RegExp\n  function regexSupplant(regex, flags) {\n    flags = flags || \"\";\n    if (typeof regex !== \"string\") {\n      if (regex.global && flags.indexOf(\"g\") < 0) {\n        flags += \"g\";\n      }\n      if (regex.ignoreCase && flags.indexOf(\"i\") < 0) {\n        flags += \"i\";\n      }\n      if (regex.multiline && flags.indexOf(\"m\") < 0) {\n        flags += \"m\";\n      }\n\n      regex = regex.source;\n    }\n\n    return new RegExp(regex.replace(/#\\{(\\w+)\\}/g, function(match, name) {\n      var newRegex = twttr.txt.regexen[name] || \"\";\n      if (typeof newRegex !== \"string\") {\n        newRegex = newRegex.source;\n      }\n      return newRegex;\n    }), flags);\n  }\n\n  twttr.txt.regexSupplant = regexSupplant;\n\n  // simple string interpolation\n  function stringSupplant(str, values) {\n    return str.replace(/#\\{(\\w+)\\}/g, function(match, name) {\n      return values[name] || \"\";\n    });\n  }\n\n  twttr.txt.stringSupplant = stringSupplant;\n\n  twttr.txt.regexen.spaces_group = /\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000/;\n  twttr.txt.regexen.spaces = regexSupplant(/[#{spaces_group}]/);\n  twttr.txt.regexen.invalid_chars_group = /\\uFFFE\\uFEFF\\uFFFF\\u202A-\\u202E/;\n  twttr.txt.regexen.invalid_chars = regexSupplant(/[#{invalid_chars_group}]/);\n  twttr.txt.regexen.punct = /\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$/;\n  twttr.txt.regexen.rtl_chars = /[\\u0600-\\u06FF]|[\\u0750-\\u077F]|[\\u0590-\\u05FF]|[\\uFE70-\\uFEFF]/mg;\n  twttr.txt.regexen.non_bmp_code_pairs = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/mg;\n\n  twttr.txt.regexen.latinAccentChars = /\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF/;\n\n  // Generated from unicode_regex/unicode_regex_groups.scala, same as objective c's \\p{L}\\p{M}\n  twttr.txt.regexen.bmpLetterAndMarks = /A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0300-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u0483-\\u052f\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06df-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710-\\u074a\\u074d-\\u07b1\\u07ca-\\u07f5\\u07fa\\u0800-\\u082d\\u0840-\\u085b\\u08a0-\\u08b2\\u08e4-\\u0963\\u0971-\\u0983\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bc-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09ce\\u09d7\\u09dc\\u09dd\\u09df-\\u09e3\\u09f0\\u09f1\\u0a01-\\u0a03\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a59-\\u0a5c\\u0a5e\\u0a70-\\u0a75\\u0a81-\\u0a83\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abc-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ad0\\u0ae0-\\u0ae3\\u0b01-\\u0b03\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3c-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5c\\u0b5d\\u0b5f-\\u0b63\\u0b71\\u0b82\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd0\\u0bd7\\u0c00-\\u0c03\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c58\\u0c59\\u0c60-\\u0c63\\u0c81-\\u0c83\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbc-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0cde\\u0ce0-\\u0ce3\\u0cf1\\u0cf2\\u0d01-\\u0d03\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4e\\u0d57\\u0d60-\\u0d63\\u0d7a-\\u0d7f\\u0d82\\u0d83\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb9\\u0ebb-\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ec8-\\u0ecd\\u0edc-\\u0edf\\u0f00\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f3e-\\u0f47\\u0f49-\\u0f6c\\u0f71-\\u0f84\\u0f86-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u103f\\u1050-\\u108f\\u109a-\\u109d\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u135d-\\u135f\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16f1-\\u16f8\\u1700-\\u170c\\u170e-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176c\\u176e-\\u1770\\u1772\\u1773\\u1780-\\u17d3\\u17d7\\u17dc\\u17dd\\u180b-\\u180d\\u1820-\\u1877\\u1880-\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1920-\\u192b\\u1930-\\u193b\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a1b\\u1a20-\\u1a5e\\u1a60-\\u1a7c\\u1a7f\\u1aa7\\u1ab0-\\u1abe\\u1b00-\\u1b4b\\u1b6b-\\u1b73\\u1b80-\\u1baf\\u1bba-\\u1bf3\\u1c00-\\u1c37\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1cd0-\\u1cd2\\u1cd4-\\u1cf6\\u1cf8\\u1cf9\\u1d00-\\u1df5\\u1dfc-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u20d0-\\u20f0\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2183\\u2184\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d7f-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2de0-\\u2dff\\u2e2f\\u3005\\u3006\\u302a-\\u302f\\u3031-\\u3035\\u303b\\u303c\\u3041-\\u3096\\u3099\\u309a\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua672\\ua674-\\ua67d\\ua67f-\\ua69d\\ua69f-\\ua6e5\\ua6f0\\ua6f1\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua7ad\\ua7b0\\ua7b1\\ua7f7-\\ua827\\ua840-\\ua873\\ua880-\\ua8c4\\ua8e0-\\ua8f7\\ua8fb\\ua90a-\\ua92d\\ua930-\\ua953\\ua960-\\ua97c\\ua980-\\ua9c0\\ua9cf\\ua9e0-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa36\\uaa40-\\uaa4d\\uaa60-\\uaa76\\uaa7a-\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaef\\uaaf2-\\uaaf6\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab5f\\uab64\\uab65\\uabc0-\\uabea\\uabec\\uabed\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf870-\\uf87f\\uf882\\uf884-\\uf89f\\uf8b8\\uf8c1-\\uf8d6\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe00-\\ufe0f\\ufe20-\\ufe2d\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc/;\n  twttr.txt.regexen.astralLetterAndMarks = /\\ud800[\\udc00-\\udc0b\\udc0d-\\udc26\\udc28-\\udc3a\\udc3c\\udc3d\\udc3f-\\udc4d\\udc50-\\udc5d\\udc80-\\udcfa\\uddfd\\ude80-\\ude9c\\udea0-\\uded0\\udee0\\udf00-\\udf1f\\udf30-\\udf40\\udf42-\\udf49\\udf50-\\udf7a\\udf80-\\udf9d\\udfa0-\\udfc3\\udfc8-\\udfcf]|\\ud801[\\udc00-\\udc9d\\udd00-\\udd27\\udd30-\\udd63\\ude00-\\udf36\\udf40-\\udf55\\udf60-\\udf67]|\\ud802[\\udc00-\\udc05\\udc08\\udc0a-\\udc35\\udc37\\udc38\\udc3c\\udc3f-\\udc55\\udc60-\\udc76\\udc80-\\udc9e\\udd00-\\udd15\\udd20-\\udd39\\udd80-\\uddb7\\uddbe\\uddbf\\ude00-\\ude03\\ude05\\ude06\\ude0c-\\ude13\\ude15-\\ude17\\ude19-\\ude33\\ude38-\\ude3a\\ude3f\\ude60-\\ude7c\\ude80-\\ude9c\\udec0-\\udec7\\udec9-\\udee6\\udf00-\\udf35\\udf40-\\udf55\\udf60-\\udf72\\udf80-\\udf91]|\\ud803[\\udc00-\\udc48]|\\ud804[\\udc00-\\udc46\\udc7f-\\udcba\\udcd0-\\udce8\\udd00-\\udd34\\udd50-\\udd73\\udd76\\udd80-\\uddc4\\uddda\\ude00-\\ude11\\ude13-\\ude37\\udeb0-\\udeea\\udf01-\\udf03\\udf05-\\udf0c\\udf0f\\udf10\\udf13-\\udf28\\udf2a-\\udf30\\udf32\\udf33\\udf35-\\udf39\\udf3c-\\udf44\\udf47\\udf48\\udf4b-\\udf4d\\udf57\\udf5d-\\udf63\\udf66-\\udf6c\\udf70-\\udf74]|\\ud805[\\udc80-\\udcc5\\udcc7\\udd80-\\uddb5\\uddb8-\\uddc0\\ude00-\\ude40\\ude44\\ude80-\\udeb7]|\\ud806[\\udca0-\\udcdf\\udcff\\udec0-\\udef8]|\\ud808[\\udc00-\\udf98]|\\ud80c[\\udc00-\\udfff]|\\ud80d[\\udc00-\\udc2e]|\\ud81a[\\udc00-\\ude38\\ude40-\\ude5e\\uded0-\\udeed\\udef0-\\udef4\\udf00-\\udf36\\udf40-\\udf43\\udf63-\\udf77\\udf7d-\\udf8f]|\\ud81b[\\udf00-\\udf44\\udf50-\\udf7e\\udf8f-\\udf9f]|\\ud82c[\\udc00\\udc01]|\\ud82f[\\udc00-\\udc6a\\udc70-\\udc7c\\udc80-\\udc88\\udc90-\\udc99\\udc9d\\udc9e]|\\ud834[\\udd65-\\udd69\\udd6d-\\udd72\\udd7b-\\udd82\\udd85-\\udd8b\\uddaa-\\uddad\\ude42-\\ude44]|\\ud835[\\udc00-\\udc54\\udc56-\\udc9c\\udc9e\\udc9f\\udca2\\udca5\\udca6\\udca9-\\udcac\\udcae-\\udcb9\\udcbb\\udcbd-\\udcc3\\udcc5-\\udd05\\udd07-\\udd0a\\udd0d-\\udd14\\udd16-\\udd1c\\udd1e-\\udd39\\udd3b-\\udd3e\\udd40-\\udd44\\udd46\\udd4a-\\udd50\\udd52-\\udea5\\udea8-\\udec0\\udec2-\\udeda\\udedc-\\udefa\\udefc-\\udf14\\udf16-\\udf34\\udf36-\\udf4e\\udf50-\\udf6e\\udf70-\\udf88\\udf8a-\\udfa8\\udfaa-\\udfc2\\udfc4-\\udfcb]|\\ud83a[\\udc00-\\udcc4\\udcd0-\\udcd6]|\\ud83b[\\ude00-\\ude03\\ude05-\\ude1f\\ude21\\ude22\\ude24\\ude27\\ude29-\\ude32\\ude34-\\ude37\\ude39\\ude3b\\ude42\\ude47\\ude49\\ude4b\\ude4d-\\ude4f\\ude51\\ude52\\ude54\\ude57\\ude59\\ude5b\\ude5d\\ude5f\\ude61\\ude62\\ude64\\ude67-\\ude6a\\ude6c-\\ude72\\ude74-\\ude77\\ude79-\\ude7c\\ude7e\\ude80-\\ude89\\ude8b-\\ude9b\\udea1-\\udea3\\udea5-\\udea9\\udeab-\\udebb]|\\ud840[\\udc00-\\udfff]|\\ud841[\\udc00-\\udfff]|\\ud842[\\udc00-\\udfff]|\\ud843[\\udc00-\\udfff]|\\ud844[\\udc00-\\udfff]|\\ud845[\\udc00-\\udfff]|\\ud846[\\udc00-\\udfff]|\\ud847[\\udc00-\\udfff]|\\ud848[\\udc00-\\udfff]|\\ud849[\\udc00-\\udfff]|\\ud84a[\\udc00-\\udfff]|\\ud84b[\\udc00-\\udfff]|\\ud84c[\\udc00-\\udfff]|\\ud84d[\\udc00-\\udfff]|\\ud84e[\\udc00-\\udfff]|\\ud84f[\\udc00-\\udfff]|\\ud850[\\udc00-\\udfff]|\\ud851[\\udc00-\\udfff]|\\ud852[\\udc00-\\udfff]|\\ud853[\\udc00-\\udfff]|\\ud854[\\udc00-\\udfff]|\\ud855[\\udc00-\\udfff]|\\ud856[\\udc00-\\udfff]|\\ud857[\\udc00-\\udfff]|\\ud858[\\udc00-\\udfff]|\\ud859[\\udc00-\\udfff]|\\ud85a[\\udc00-\\udfff]|\\ud85b[\\udc00-\\udfff]|\\ud85c[\\udc00-\\udfff]|\\ud85d[\\udc00-\\udfff]|\\ud85e[\\udc00-\\udfff]|\\ud85f[\\udc00-\\udfff]|\\ud860[\\udc00-\\udfff]|\\ud861[\\udc00-\\udfff]|\\ud862[\\udc00-\\udfff]|\\ud863[\\udc00-\\udfff]|\\ud864[\\udc00-\\udfff]|\\ud865[\\udc00-\\udfff]|\\ud866[\\udc00-\\udfff]|\\ud867[\\udc00-\\udfff]|\\ud868[\\udc00-\\udfff]|\\ud869[\\udc00-\\uded6\\udf00-\\udfff]|\\ud86a[\\udc00-\\udfff]|\\ud86b[\\udc00-\\udfff]|\\ud86c[\\udc00-\\udfff]|\\ud86d[\\udc00-\\udf34\\udf40-\\udfff]|\\ud86e[\\udc00-\\udc1d]|\\ud87e[\\udc00-\\ude1d]|\\udb40[\\udd00-\\uddef]/;\n\n  // Generated from unicode_regex/unicode_regex_groups.scala, same as objective c's \\p{Nd}\n  twttr.txt.regexen.bmpNumerals = /0-9\\u0660-\\u0669\\u06f0-\\u06f9\\u07c0-\\u07c9\\u0966-\\u096f\\u09e6-\\u09ef\\u0a66-\\u0a6f\\u0ae6-\\u0aef\\u0b66-\\u0b6f\\u0be6-\\u0bef\\u0c66-\\u0c6f\\u0ce6-\\u0cef\\u0d66-\\u0d6f\\u0de6-\\u0def\\u0e50-\\u0e59\\u0ed0-\\u0ed9\\u0f20-\\u0f29\\u1040-\\u1049\\u1090-\\u1099\\u17e0-\\u17e9\\u1810-\\u1819\\u1946-\\u194f\\u19d0-\\u19d9\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1b50-\\u1b59\\u1bb0-\\u1bb9\\u1c40-\\u1c49\\u1c50-\\u1c59\\ua620-\\ua629\\ua8d0-\\ua8d9\\ua900-\\ua909\\ua9d0-\\ua9d9\\ua9f0-\\ua9f9\\uaa50-\\uaa59\\uabf0-\\uabf9\\uff10-\\uff19/;\n  twttr.txt.regexen.astralNumerals = /\\ud801[\\udca0-\\udca9]|\\ud804[\\udc66-\\udc6f\\udcf0-\\udcf9\\udd36-\\udd3f\\uddd0-\\uddd9\\udef0-\\udef9]|\\ud805[\\udcd0-\\udcd9\\ude50-\\ude59\\udec0-\\udec9]|\\ud806[\\udce0-\\udce9]|\\ud81a[\\ude60-\\ude69\\udf50-\\udf59]|\\ud835[\\udfce-\\udfff]/;\n\n  twttr.txt.regexen.hashtagSpecialChars = /_\\u200c\\u200d\\ua67e\\u05be\\u05f3\\u05f4\\uff5e\\u301c\\u309b\\u309c\\u30a0\\u30fb\\u3003\\u0f0b\\u0f0c\\xb7/;\n\n  // A hashtag must contain at least one unicode letter or mark, as well as numbers, underscores, and select special characters.\n  twttr.txt.regexen.hashSigns = /[#]/;\n  twttr.txt.regexen.hashtagAlpha = regexSupplant(/(?:[#{bmpLetterAndMarks}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}))/);\n  twttr.txt.regexen.hashtagAlphaNumeric = regexSupplant(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/);\n  twttr.txt.regexen.endHashtagMatch = regexSupplant(/^(?:#{hashSigns}|:\\/\\/)/);\n  twttr.txt.regexen.codePoint = /(?:[^\\uD800-\\uDFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/;\n  twttr.txt.regexen.hashtagBoundary = regexSupplant(/(?:^|\\uFE0E|\\uFE0F|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/);\n  twttr.txt.regexen.validHashtag = regexSupplant(/(#{hashtagBoundary})(#{hashSigns})(?!\\uFE0F|\\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi);\n\n  // Mention related regex collection\n  twttr.txt.regexen.validMentionPrecedingChars = /(?:^|[^a-zA-Z0-9_!#$%&*@]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/;\n  twttr.txt.regexen.atSigns = /[@]/;\n  twttr.txt.regexen.validMentionOrList = regexSupplant(\n    '(#{validMentionPrecedingChars})' +  // $1: Preceding character\n    '(#{atSigns})' +                     // $2: At mark\n    '([a-zA-Z0-9_]{1,20})' +             // $3: Screen name\n    '(\\/[a-zA-Z][a-zA-Z0-9_\\-]{0,24})?'  // $4: List (optional)\n  , 'g');\n  twttr.txt.regexen.validReply = regexSupplant(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);\n  twttr.txt.regexen.endMentionMatch = regexSupplant(/^(?:#{atSigns}|[#{latinAccentChars}]|:\\/\\/)/);\n\n  // URL related regex collection\n  twttr.txt.regexen.validUrlPrecedingChars = regexSupplant(/(?:[^A-Za-z0-9@$##{invalid_chars_group}]|^)/);\n  twttr.txt.regexen.invalidUrlWithoutProtocolPrecedingChars = /[-_.\\/]$/;\n  twttr.txt.regexen.invalidDomainChars = stringSupplant(\"#{punct}#{spaces_group}#{invalid_chars_group}\", twttr.txt.regexen);\n  twttr.txt.regexen.validDomainChars = regexSupplant(/[^#{invalidDomainChars}]/);\n  twttr.txt.regexen.validSubdomain = regexSupplant(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\\.)/);\n  twttr.txt.regexen.validDomainName = regexSupplant(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\\.)/);\n  twttr.txt.regexen.validGTLD = regexSupplant(RegExp(\n'(?:(?:' +\n    '|||||||||||||||||||||||||||||' +\n    '|||||||||||||||||||||||||||||' +\n    '|||||||||||||||||||' +\n    '|||||||||||||||' +\n    'zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|' +\n    'yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|' +\n    'wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|' +\n    'website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|' +\n    'wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|' +\n    'vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|' +\n    'vermgensberatung|vermgensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|' +\n    'university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|' +\n    'travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|' +\n    'toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|' +\n    'tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|' +\n    'tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|' +\n    'swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|' +\n    'stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|' +\n    'stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|' +\n    'softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|' +\n    'showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|' +\n    'sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|' +\n    'science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|' +\n    'sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|' +\n    'saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|' +\n    'rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|' +\n    'repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|' +\n    'realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|' +\n    'protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|' +\n    'pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|' +\n    'pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|' +\n    'pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|' +\n    'pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|' +\n    'onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|' +\n    'obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|' +\n    'nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|' +\n    'net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|' +\n    'msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|' +\n    'monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|' +\n    'miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|' +\n    'mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|' +\n    'makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|' +\n    'lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|' +\n    'limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|' +\n    'lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|' +\n    'lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|' +\n    'komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|' +\n    'kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|' +\n    'jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|' +\n    'investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|' +\n    'industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|' +\n    'hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|' +\n    'honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|' +\n    'hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|' +\n    'hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|' +\n    'gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|' +\n    'globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|' +\n    'garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|' +\n    'ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|' +\n    'football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|' +\n    'fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|' +\n    'ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|' +\n    'extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|' +\n    'estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|' +\n    'email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|' +\n    'download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|' +\n    'direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|' +\n    'delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|' +\n    'cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|' +\n    'coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|' +\n    'construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|' +\n    'college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|' +\n    'cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|' +\n    'chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|' +\n    'catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|' +\n    'capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|' +\n    'bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|' +\n    'bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|' +\n    'boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|' +\n    'black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|' +\n    'beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|' +\n    'barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|' +\n    'autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|' +\n    'art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|' +\n    'amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|' +\n    'alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|' +\n    'afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|' +\n    'academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion' +\n')(?=[^0-9a-zA-Z@]|$))'));\n  twttr.txt.regexen.validCCTLD = regexSupplant(RegExp(\n'(?:(?:' +\n    '||||||||||||||||||||' +\n    '|||||||||||||||||' +\n    '|||||||||||||||||||' +\n    'zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|' +\n    'tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|' +\n    're|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|' +\n    'mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|' +\n    'ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|' +\n    'gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|' +\n    'do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|' +\n    'bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac' +\n')(?=[^0-9a-zA-Z@]|$))'));\n  twttr.txt.regexen.validPunycode = /(?:xn--[0-9a-z]+)/;\n  twttr.txt.regexen.validSpecialCCTLD = /(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/;\n  twttr.txt.regexen.validDomain = regexSupplant(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/);\n  twttr.txt.regexen.validAsciiDomain = regexSupplant(/(?:(?:[\\-a-z0-9#{latinAccentChars}]+)\\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi);\n  twttr.txt.regexen.invalidShortDomain = regexSupplant(/^#{validDomainName}#{validCCTLD}$/i);\n  twttr.txt.regexen.validSpecialShortDomain = regexSupplant(/^#{validDomainName}#{validSpecialCCTLD}$/i);\n  twttr.txt.regexen.validPortNumber = /[0-9]+/;\n  twttr.txt.regexen.cyrillicLettersAndMarks = /\\u0400-\\u04FF/;\n  twttr.txt.regexen.validGeneralUrlPathChars = regexSupplant(/[a-z#{cyrillicLettersAndMarks}0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-_~@\\|&#{latinAccentChars}]/i);\n  // Allow URL paths to contain up to two nested levels of balanced parens\n  //  1. Used in Wikipedia URLs like /Primer_(film)\n  //  2. Used in IIS sessions like /S(dfd346)/\n  //  3. Used in Rdio URLs like /track/We_Up_(Album_Version_(Edited))/\n  twttr.txt.regexen.validUrlBalancedParens = regexSupplant(\n    '\\\\('                                   +\n      '(?:'                                 +\n        '#{validGeneralUrlPathChars}+'      +\n        '|'                                 +\n        // allow one nested level of balanced parentheses\n        '(?:'                               +\n          '#{validGeneralUrlPathChars}*'    +\n          '\\\\('                             +\n            '#{validGeneralUrlPathChars}+'  +\n          '\\\\)'                             +\n          '#{validGeneralUrlPathChars}*'    +\n        ')'                                 +\n      ')'                                   +\n    '\\\\)'\n  , 'i');\n  // Valid end-of-path chracters (so /foo. does not gobble the period).\n  // 1. Allow =&# for empty URL parameters and other URL-join artifacts\n  twttr.txt.regexen.validUrlPathEndingChars = regexSupplant(/[\\+\\-a-z#{cyrillicLettersAndMarks}0-9=_#\\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i);\n  // Allow @ in a url, but only in the middle. Catch things like http://example.com/@user/\n  twttr.txt.regexen.validUrlPath = regexSupplant('(?:' +\n    '(?:' +\n      '#{validGeneralUrlPathChars}*' +\n        '(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*' +\n        '#{validUrlPathEndingChars}'+\n      ')|(?:@#{validGeneralUrlPathChars}+\\/)'+\n    ')', 'i');\n\n  twttr.txt.regexen.validUrlQueryChars = /[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]/i;\n  twttr.txt.regexen.validUrlQueryEndingChars = /[a-z0-9_&=#\\/]/i;\n  twttr.txt.regexen.extractUrl = regexSupplant(\n    '('                                                            + // $1 total match\n      '(#{validUrlPrecedingChars})'                                + // $2 Preceeding chracter\n      '('                                                          + // $3 URL\n        '(https?:\\\\/\\\\/)?'                                         + // $4 Protocol (optional)\n        '(#{validDomain})'                                         + // $5 Domain(s)\n        '(?::(#{validPortNumber}))?'                               + // $6 Port number (optional)\n        '(\\\\/#{validUrlPath}*)?'                                   + // $7 URL Path\n        '(\\\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?'  + // $8 Query String\n      ')'                                                          +\n    ')'\n  , 'gi');\n\n  twttr.txt.regexen.validTcoUrl = /^https?:\\/\\/t\\.co\\/[a-z0-9]+/i;\n  twttr.txt.regexen.urlHasProtocol = /^https?:\\/\\//i;\n  twttr.txt.regexen.urlHasHttps = /^https:\\/\\//i;\n\n  // cashtag related regex\n  twttr.txt.regexen.cashtag = /[a-z]{1,6}(?:[._][a-z]{1,2})?/i;\n  twttr.txt.regexen.validCashtag = regexSupplant('(^|#{spaces})(\\\\$)(#{cashtag})(?=$|\\\\s|[#{punct}])', 'gi');\n\n  // These URL validation pattern strings are based on the ABNF from RFC 3986\n  twttr.txt.regexen.validateUrlUnreserved = /[a-z\\u0400-\\u04FF0-9\\-._~]/i;\n  twttr.txt.regexen.validateUrlPctEncoded = /(?:%[0-9a-f]{2})/i;\n  twttr.txt.regexen.validateUrlSubDelims = /[!$&'()*+,;=]/i;\n  twttr.txt.regexen.validateUrlPchar = regexSupplant('(?:' +\n    '#{validateUrlUnreserved}|' +\n    '#{validateUrlPctEncoded}|' +\n    '#{validateUrlSubDelims}|' +\n    '[:|@]' +\n  ')', 'i');\n\n  twttr.txt.regexen.validateUrlScheme = /(?:[a-z][a-z0-9+\\-.]*)/i;\n  twttr.txt.regexen.validateUrlUserinfo = regexSupplant('(?:' +\n    '#{validateUrlUnreserved}|' +\n    '#{validateUrlPctEncoded}|' +\n    '#{validateUrlSubDelims}|' +\n    ':' +\n  ')*', 'i');\n\n  twttr.txt.regexen.validateUrlDecOctet = /(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;\n  twttr.txt.regexen.validateUrlIpv4 = regexSupplant(/(?:#{validateUrlDecOctet}(?:\\.#{validateUrlDecOctet}){3})/i);\n\n  // Punting on real IPv6 validation for now\n  twttr.txt.regexen.validateUrlIpv6 = /(?:\\[[a-f0-9:\\.]+\\])/i;\n\n  // Also punting on IPvFuture for now\n  twttr.txt.regexen.validateUrlIp = regexSupplant('(?:' +\n    '#{validateUrlIpv4}|' +\n    '#{validateUrlIpv6}' +\n  ')', 'i');\n\n  // This is more strict than the rfc specifies\n  twttr.txt.regexen.validateUrlSubDomainSegment = /(?:[a-z0-9](?:[a-z0-9_\\-]*[a-z0-9])?)/i;\n  twttr.txt.regexen.validateUrlDomainSegment = /(?:[a-z0-9](?:[a-z0-9\\-]*[a-z0-9])?)/i;\n  twttr.txt.regexen.validateUrlDomainTld = /(?:[a-z](?:[a-z0-9\\-]*[a-z0-9])?)/i;\n  twttr.txt.regexen.validateUrlDomain = regexSupplant(/(?:(?:#{validateUrlSubDomainSegment}\\.)*(?:#{validateUrlDomainSegment}\\.)#{validateUrlDomainTld})/i);\n\n  twttr.txt.regexen.validateUrlHost = regexSupplant('(?:' +\n    '#{validateUrlIp}|' +\n    '#{validateUrlDomain}' +\n  ')', 'i');\n\n  // Unencoded internationalized domains - this doesn't check for invalid UTF-8 sequences\n  twttr.txt.regexen.validateUrlUnicodeSubDomainSegment = /(?:(?:[a-z0-9]|[^\\u0000-\\u007f])(?:(?:[a-z0-9_\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\n  twttr.txt.regexen.validateUrlUnicodeDomainSegment = /(?:(?:[a-z0-9]|[^\\u0000-\\u007f])(?:(?:[a-z0-9\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\n  twttr.txt.regexen.validateUrlUnicodeDomainTld = /(?:(?:[a-z]|[^\\u0000-\\u007f])(?:(?:[a-z0-9\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\n  twttr.txt.regexen.validateUrlUnicodeDomain = regexSupplant(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\\.)*(?:#{validateUrlUnicodeDomainSegment}\\.)#{validateUrlUnicodeDomainTld})/i);\n\n  twttr.txt.regexen.validateUrlUnicodeHost = regexSupplant('(?:' +\n    '#{validateUrlIp}|' +\n    '#{validateUrlUnicodeDomain}' +\n  ')', 'i');\n\n  twttr.txt.regexen.validateUrlPort = /[0-9]{1,5}/;\n\n  twttr.txt.regexen.validateUrlUnicodeAuthority = regexSupplant(\n    '(?:(#{validateUrlUserinfo})@)?'  + // $1 userinfo\n    '(#{validateUrlUnicodeHost})'     + // $2 host\n    '(?::(#{validateUrlPort}))?'        //$3 port\n  , \"i\");\n\n  twttr.txt.regexen.validateUrlAuthority = regexSupplant(\n    '(?:(#{validateUrlUserinfo})@)?' + // $1 userinfo\n    '(#{validateUrlHost})'           + // $2 host\n    '(?::(#{validateUrlPort}))?'       // $3 port\n  , \"i\");\n\n  twttr.txt.regexen.validateUrlPath = regexSupplant(/(\\/#{validateUrlPchar}*)*/i);\n  twttr.txt.regexen.validateUrlQuery = regexSupplant(/(#{validateUrlPchar}|\\/|\\?)*/i);\n  twttr.txt.regexen.validateUrlFragment = regexSupplant(/(#{validateUrlPchar}|\\/|\\?)*/i);\n\n  // Modified version of RFC 3986 Appendix B\n  twttr.txt.regexen.validateUrlUnencoded = regexSupplant(\n    '^'                               + // Full URL\n    '(?:'                             +\n      '([^:/?#]+):\\\\/\\\\/'             + // $1 Scheme\n    ')?'                              +\n    '([^/?#]*)'                       + // $2 Authority\n    '([^?#]*)'                        + // $3 Path\n    '(?:'                             +\n      '\\\\?([^#]*)'                    + // $4 Query\n    ')?'                              +\n    '(?:'                             +\n      '#(.*)'                         + // $5 Fragment\n    ')?$'\n  , \"i\");\n\n\n  // Default CSS class for auto-linked lists (along with the url class)\n  var DEFAULT_LIST_CLASS = \"tweet-url list-slug\";\n  // Default CSS class for auto-linked usernames (along with the url class)\n  var DEFAULT_USERNAME_CLASS = \"tweet-url username\";\n  // Default CSS class for auto-linked hashtags (along with the url class)\n  var DEFAULT_HASHTAG_CLASS = \"tweet-url hashtag\";\n  // Default CSS class for auto-linked cashtags (along with the url class)\n  var DEFAULT_CASHTAG_CLASS = \"tweet-url cashtag\";\n  // Options which should not be passed as HTML attributes\n  var OPTIONS_NOT_ATTRIBUTES = {'urlClass':true, 'listClass':true, 'usernameClass':true, 'hashtagClass':true, 'cashtagClass':true,\n                            'usernameUrlBase':true, 'listUrlBase':true, 'hashtagUrlBase':true, 'cashtagUrlBase':true,\n                            'usernameUrlBlock':true, 'listUrlBlock':true, 'hashtagUrlBlock':true, 'linkUrlBlock':true,\n                            'usernameIncludeSymbol':true, 'suppressLists':true, 'suppressNoFollow':true, 'targetBlank':true,\n                            'suppressDataScreenName':true, 'urlEntities':true, 'symbolTag':true, 'textWithSymbolTag':true, 'urlTarget':true,\n                            'invisibleTagAttrs':true, 'linkAttributeBlock':true, 'linkTextBlock': true, 'htmlEscapeNonEntities': true\n                            };\n\n  var BOOLEAN_ATTRIBUTES = {'disabled':true, 'readonly':true, 'multiple':true, 'checked':true};\n\n  // Simple object cloning function for simple objects\n  function clone(o) {\n    var r = {};\n    for (var k in o) {\n      if (o.hasOwnProperty(k)) {\n        r[k] = o[k];\n      }\n    }\n\n    return r;\n  }\n\n  twttr.txt.tagAttrs = function(attributes) {\n    var htmlAttrs = \"\";\n    for (var k in attributes) {\n      var v = attributes[k];\n      if (BOOLEAN_ATTRIBUTES[k]) {\n        v = v ? k : null;\n      }\n      if (v == null) continue;\n      htmlAttrs += \" \" + twttr.txt.htmlEscape(k) + \"=\\\"\" + twttr.txt.htmlEscape(v.toString()) + \"\\\"\";\n    }\n    return htmlAttrs;\n  };\n\n  twttr.txt.linkToText = function(entity, text, attributes, options) {\n    if (!options.suppressNoFollow) {\n      attributes.rel = \"nofollow\";\n    }\n    // if linkAttributeBlock is specified, call it to modify the attributes\n    if (options.linkAttributeBlock) {\n      options.linkAttributeBlock(entity, attributes);\n    }\n    // if linkTextBlock is specified, call it to get a new/modified link text\n    if (options.linkTextBlock) {\n      text = options.linkTextBlock(entity, text);\n    }\n    var d = {\n      text: text,\n      attr: twttr.txt.tagAttrs(attributes)\n    };\n    return stringSupplant(\"<a#{attr}>#{text}</a>\", d);\n  };\n\n  twttr.txt.linkToTextWithSymbol = function(entity, symbol, text, attributes, options) {\n    var taggedSymbol = options.symbolTag ? \"<\" + options.symbolTag + \">\" + symbol + \"</\"+ options.symbolTag + \">\" : symbol;\n    text = twttr.txt.htmlEscape(text);\n    var taggedText = options.textWithSymbolTag ? \"<\" + options.textWithSymbolTag + \">\" + text + \"</\"+ options.textWithSymbolTag + \">\" : text;\n\n    if (options.usernameIncludeSymbol || !symbol.match(twttr.txt.regexen.atSigns)) {\n      return twttr.txt.linkToText(entity, taggedSymbol + taggedText, attributes, options);\n    } else {\n      return taggedSymbol + twttr.txt.linkToText(entity, taggedText, attributes, options);\n    }\n  };\n\n  twttr.txt.linkToHashtag = function(entity, text, options) {\n    var hash = text.substring(entity.indices[0], entity.indices[0] + 1);\n    var hashtag = twttr.txt.htmlEscape(entity.hashtag);\n    var attrs = clone(options.htmlAttrs || {});\n    attrs.href = options.hashtagUrlBase + hashtag;\n    attrs.title = \"#\" + hashtag;\n    attrs[\"class\"] = options.hashtagClass;\n    if (hashtag.charAt(0).match(twttr.txt.regexen.rtl_chars)){\n      attrs[\"class\"] += \" rtl\";\n    }\n    if (options.targetBlank) {\n      attrs.target = '_blank';\n    }\n\n    return twttr.txt.linkToTextWithSymbol(entity, hash, hashtag, attrs, options);\n  };\n\n  twttr.txt.linkToCashtag = function(entity, text, options) {\n    var cashtag = twttr.txt.htmlEscape(entity.cashtag);\n    var attrs = clone(options.htmlAttrs || {});\n    attrs.href = options.cashtagUrlBase + cashtag;\n    attrs.title = \"$\" + cashtag;\n    attrs[\"class\"] =  options.cashtagClass;\n    if (options.targetBlank) {\n      attrs.target = '_blank';\n    }\n\n    return twttr.txt.linkToTextWithSymbol(entity, \"$\", cashtag, attrs, options);\n  };\n\n  twttr.txt.linkToMentionAndList = function(entity, text, options) {\n    var at = text.substring(entity.indices[0], entity.indices[0] + 1);\n    var user = twttr.txt.htmlEscape(entity.screenName);\n    var slashListname = twttr.txt.htmlEscape(entity.listSlug);\n    var isList = entity.listSlug && !options.suppressLists;\n    var attrs = clone(options.htmlAttrs || {});\n    attrs[\"class\"] = (isList ? options.listClass : options.usernameClass);\n    attrs.href = isList ? options.listUrlBase + user + slashListname : options.usernameUrlBase + user;\n    if (!isList && !options.suppressDataScreenName) {\n      attrs['data-screen-name'] = user;\n    }\n    if (options.targetBlank) {\n      attrs.target = '_blank';\n    }\n\n    return twttr.txt.linkToTextWithSymbol(entity, at, isList ? user + slashListname : user, attrs, options);\n  };\n\n  twttr.txt.linkToUrl = function(entity, text, options) {\n    var url = entity.url;\n    var displayUrl = url;\n    var linkText = twttr.txt.htmlEscape(displayUrl);\n\n    // If the caller passed a urlEntities object (provided by a Twitter API\n    // response with include_entities=true), we use that to render the display_url\n    // for each URL instead of it's underlying t.co URL.\n    var urlEntity = (options.urlEntities && options.urlEntities[url]) || entity;\n    if (urlEntity.display_url) {\n      linkText = twttr.txt.linkTextWithEntity(urlEntity, options);\n    }\n\n    var attrs = clone(options.htmlAttrs || {});\n\n    if (!url.match(twttr.txt.regexen.urlHasProtocol)) {\n      url = \"http://\" + url;\n    }\n    attrs.href = url;\n\n    if (options.targetBlank) {\n      attrs.target = '_blank';\n    }\n\n    // set class only if urlClass is specified.\n    if (options.urlClass) {\n      attrs[\"class\"] = options.urlClass;\n    }\n\n    // set target only if urlTarget is specified.\n    if (options.urlTarget) {\n      attrs.target = options.urlTarget;\n    }\n\n    if (!options.title && urlEntity.display_url) {\n      attrs.title = urlEntity.expanded_url;\n    }\n\n    return twttr.txt.linkToText(entity, linkText, attrs, options);\n  };\n\n  twttr.txt.linkTextWithEntity = function (entity, options) {\n    var displayUrl = entity.display_url;\n    var expandedUrl = entity.expanded_url;\n\n    // Goal: If a user copies and pastes a tweet containing t.co'ed link, the resulting paste\n    // should contain the full original URL (expanded_url), not the display URL.\n    //\n    // Method: Whenever possible, we actually emit HTML that contains expanded_url, and use\n    // font-size:0 to hide those parts that should not be displayed (because they are not part of display_url).\n    // Elements with font-size:0 get copied even though they are not visible.\n    // Note that display:none doesn't work here. Elements with display:none don't get copied.\n    //\n    // Additionally, we want to *display* ellipses, but we don't want them copied.  To make this happen we\n    // wrap the ellipses in a tco-ellipsis class and provide an onCopy handler that sets display:none on\n    // everything with the tco-ellipsis class.\n    //\n    // Exception: pic.twitter.com images, for which expandedUrl = \"https://twitter.com/#!/username/status/1234/photo/1\n    // For those URLs, display_url is not a substring of expanded_url, so we don't do anything special to render the elided parts.\n    // For a pic.twitter.com URL, the only elided part will be the \"https://\", so this is fine.\n\n    var displayUrlSansEllipses = displayUrl.replace(//g, \"\"); // We have to disregard ellipses for matching\n    // Note: we currently only support eliding parts of the URL at the beginning or the end.\n    // Eventually we may want to elide parts of the URL in the *middle*.  If so, this code will\n    // become more complicated.  We will probably want to create a regexp out of display URL,\n    // replacing every ellipsis with a \".*\".\n    if (expandedUrl.indexOf(displayUrlSansEllipses) != -1) {\n      var displayUrlIndex = expandedUrl.indexOf(displayUrlSansEllipses);\n      var v = {\n        displayUrlSansEllipses: displayUrlSansEllipses,\n        // Portion of expandedUrl that precedes the displayUrl substring\n        beforeDisplayUrl: expandedUrl.substr(0, displayUrlIndex),\n        // Portion of expandedUrl that comes after displayUrl\n        afterDisplayUrl: expandedUrl.substr(displayUrlIndex + displayUrlSansEllipses.length),\n        precedingEllipsis: displayUrl.match(/^/) ? \"\" : \"\",\n        followingEllipsis: displayUrl.match(/$/) ? \"\" : \"\"\n      };\n      for (var k in v) {\n        if (v.hasOwnProperty(k)) {\n          v[k] = twttr.txt.htmlEscape(v[k]);\n        }\n      }\n      // As an example: The user tweets \"hi http://longdomainname.com/foo\"\n      // This gets shortened to \"hi http://t.co/xyzabc\", with display_url = \"nname.com/foo\"\n      // This will get rendered as:\n      // <span class='tco-ellipsis'> <!-- This stuff should get displayed but not copied -->\n      //   \n      //   <!-- There's a chance the onCopy event handler might not fire. In case that happens,\n      //        we include an &nbsp; here so that the  doesn't bump up against the URL and ruin it.\n      //        The &nbsp; is inside the tco-ellipsis span so that when the onCopy handler *does*\n      //        fire, it doesn't get copied.  Otherwise the copied text would have two spaces in a row,\n      //        e.g. \"hi  http://longdomainname.com/foo\".\n      //   <span style='font-size:0'>&nbsp;</span>\n      // </span>\n      // <span style='font-size:0'>  <!-- This stuff should get copied but not displayed -->\n      //   http://longdomai\n      // </span>\n      // <span class='js-display-url'> <!-- This stuff should get displayed *and* copied -->\n      //   nname.com/foo\n      // </span>\n      // <span class='tco-ellipsis'> <!-- This stuff should get displayed but not copied -->\n      //   <span style='font-size:0'>&nbsp;</span>\n      //   \n      // </span>\n      v['invisible'] = options.invisibleTagAttrs;\n      return stringSupplant(\"<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>\", v);\n    }\n    return displayUrl;\n  };\n\n  twttr.txt.autoLinkEntities = function(text, entities, options) {\n    options = clone(options || {});\n\n    options.hashtagClass = options.hashtagClass || DEFAULT_HASHTAG_CLASS;\n    options.hashtagUrlBase = options.hashtagUrlBase || \"https://twitter.com/#!/search?q=%23\";\n    options.cashtagClass = options.cashtagClass || DEFAULT_CASHTAG_CLASS;\n    options.cashtagUrlBase = options.cashtagUrlBase || \"https://twitter.com/#!/search?q=%24\";\n    options.listClass = options.listClass || DEFAULT_LIST_CLASS;\n    options.usernameClass = options.usernameClass || DEFAULT_USERNAME_CLASS;\n    options.usernameUrlBase = options.usernameUrlBase || \"https://twitter.com/\";\n    options.listUrlBase = options.listUrlBase || \"https://twitter.com/\";\n    options.htmlAttrs = twttr.txt.extractHtmlAttrsFromOptions(options);\n    options.invisibleTagAttrs = options.invisibleTagAttrs || \"style='position:absolute;left:-9999px;'\";\n\n    // remap url entities to hash\n    var urlEntities, i, len;\n    if(options.urlEntities) {\n      urlEntities = {};\n      for(i = 0, len = options.urlEntities.length; i < len; i++) {\n        urlEntities[options.urlEntities[i].url] = options.urlEntities[i];\n      }\n      options.urlEntities = urlEntities;\n    }\n\n    var result = \"\";\n    var beginIndex = 0;\n\n    // sort entities by start index\n    entities.sort(function(a,b){ return a.indices[0] - b.indices[0]; });\n\n    var nonEntity = options.htmlEscapeNonEntities ? twttr.txt.htmlEscape : function(text) {\n      return text;\n    };\n\n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      result += nonEntity(text.substring(beginIndex, entity.indices[0]));\n\n      if (entity.url) {\n        result += twttr.txt.linkToUrl(entity, text, options);\n      } else if (entity.hashtag) {\n        result += twttr.txt.linkToHashtag(entity, text, options);\n      } else if (entity.screenName) {\n        result += twttr.txt.linkToMentionAndList(entity, text, options);\n      } else if (entity.cashtag) {\n        result += twttr.txt.linkToCashtag(entity, text, options);\n      }\n      beginIndex = entity.indices[1];\n    }\n    result += nonEntity(text.substring(beginIndex, text.length));\n    return result;\n  };\n\n  twttr.txt.autoLinkWithJSON = function(text, json, options) {\n    // map JSON entity to twitter-text entity\n    if (json.user_mentions) {\n      for (var i = 0; i < json.user_mentions.length; i++) {\n        // this is a @mention\n        json.user_mentions[i].screenName = json.user_mentions[i].screen_name;\n      }\n    }\n\n    if (json.hashtags) {\n      for (var i = 0; i < json.hashtags.length; i++) {\n        // this is a #hashtag\n        json.hashtags[i].hashtag = json.hashtags[i].text;\n      }\n    }\n\n    if (json.symbols) {\n      for (var i = 0; i < json.symbols.length; i++) {\n        // this is a $CASH tag\n        json.symbols[i].cashtag = json.symbols[i].text;\n      }\n    }\n\n    // concatenate all entities\n    var entities = [];\n    for (var key in json) {\n      entities = entities.concat(json[key]);\n    }\n\n    // modify indices to UTF-16\n    twttr.txt.modifyIndicesFromUnicodeToUTF16(text, entities);\n\n    return twttr.txt.autoLinkEntities(text, entities, options);\n  };\n\n  twttr.txt.extractHtmlAttrsFromOptions = function(options) {\n    var htmlAttrs = {};\n    for (var k in options) {\n      var v = options[k];\n      if (OPTIONS_NOT_ATTRIBUTES[k]) continue;\n      if (BOOLEAN_ATTRIBUTES[k]) {\n        v = v ? k : null;\n      }\n      if (v == null) continue;\n      htmlAttrs[k] = v;\n    }\n    return htmlAttrs;\n  };\n\n  twttr.txt.autoLink = function(text, options) {\n    var entities = twttr.txt.extractEntitiesWithIndices(text, {extractUrlsWithoutProtocol: false});\n    return twttr.txt.autoLinkEntities(text, entities, options);\n  };\n\n  twttr.txt.autoLinkUsernamesOrLists = function(text, options) {\n    var entities = twttr.txt.extractMentionsOrListsWithIndices(text);\n    return twttr.txt.autoLinkEntities(text, entities, options);\n  };\n\n  twttr.txt.autoLinkHashtags = function(text, options) {\n    var entities = twttr.txt.extractHashtagsWithIndices(text);\n    return twttr.txt.autoLinkEntities(text, entities, options);\n  };\n\n  twttr.txt.autoLinkCashtags = function(text, options) {\n    var entities = twttr.txt.extractCashtagsWithIndices(text);\n    return twttr.txt.autoLinkEntities(text, entities, options);\n  };\n\n  twttr.txt.autoLinkUrlsCustom = function(text, options) {\n    var entities = twttr.txt.extractUrlsWithIndices(text, {extractUrlsWithoutProtocol: false});\n    return twttr.txt.autoLinkEntities(text, entities, options);\n  };\n\n  twttr.txt.removeOverlappingEntities = function(entities) {\n    entities.sort(function(a,b){ return a.indices[0] - b.indices[0]; });\n\n    var prev = entities[0];\n    for (var i = 1; i < entities.length; i++) {\n      if (prev.indices[1] > entities[i].indices[0]) {\n        entities.splice(i, 1);\n        i--;\n      } else {\n        prev = entities[i];\n      }\n    }\n  };\n\n  twttr.txt.extractEntitiesWithIndices = function(text, options) {\n    var entities = twttr.txt.extractUrlsWithIndices(text, options)\n                    .concat(twttr.txt.extractMentionsOrListsWithIndices(text))\n                    .concat(twttr.txt.extractHashtagsWithIndices(text, {checkUrlOverlap: false}))\n                    .concat(twttr.txt.extractCashtagsWithIndices(text));\n\n    if (entities.length == 0) {\n      return [];\n    }\n\n    twttr.txt.removeOverlappingEntities(entities);\n    return entities;\n  };\n\n  twttr.txt.extractMentions = function(text) {\n    var screenNamesOnly = [],\n        screenNamesWithIndices = twttr.txt.extractMentionsWithIndices(text);\n\n    for (var i = 0; i < screenNamesWithIndices.length; i++) {\n      var screenName = screenNamesWithIndices[i].screenName;\n      screenNamesOnly.push(screenName);\n    }\n\n    return screenNamesOnly;\n  };\n\n  twttr.txt.extractMentionsWithIndices = function(text) {\n    var mentions = [],\n        mentionOrList,\n        mentionsOrLists = twttr.txt.extractMentionsOrListsWithIndices(text);\n\n    for (var i = 0 ; i < mentionsOrLists.length; i++) {\n      mentionOrList = mentionsOrLists[i];\n      if (mentionOrList.listSlug == '') {\n        mentions.push({\n          screenName: mentionOrList.screenName,\n          indices: mentionOrList.indices\n        });\n      }\n    }\n\n    return mentions;\n  };\n\n  /**\n   * Extract list or user mentions.\n   * (Presence of listSlug indicates a list)\n   */\n  twttr.txt.extractMentionsOrListsWithIndices = function(text) {\n    if (!text || !text.match(twttr.txt.regexen.atSigns)) {\n      return [];\n    }\n\n    var possibleNames = [],\n        slashListname;\n\n    text.replace(twttr.txt.regexen.validMentionOrList, function(match, before, atSign, screenName, slashListname, offset, chunk) {\n      var after = chunk.slice(offset + match.length);\n      if (!after.match(twttr.txt.regexen.endMentionMatch)) {\n        slashListname = slashListname || '';\n        var startPosition = offset + before.length;\n        var endPosition = startPosition + screenName.length + slashListname.length + 1;\n        possibleNames.push({\n          screenName: screenName,\n          listSlug: slashListname,\n          indices: [startPosition, endPosition]\n        });\n      }\n    });\n\n    return possibleNames;\n  };\n\n\n  twttr.txt.extractReplies = function(text) {\n    if (!text) {\n      return null;\n    }\n\n    var possibleScreenName = text.match(twttr.txt.regexen.validReply);\n    if (!possibleScreenName ||\n        RegExp.rightContext.match(twttr.txt.regexen.endMentionMatch)) {\n      return null;\n    }\n\n    return possibleScreenName[1];\n  };\n\n  twttr.txt.extractUrls = function(text, options) {\n    var urlsOnly = [],\n        urlsWithIndices = twttr.txt.extractUrlsWithIndices(text, options);\n\n    for (var i = 0; i < urlsWithIndices.length; i++) {\n      urlsOnly.push(urlsWithIndices[i].url);\n    }\n\n    return urlsOnly;\n  };\n\n  twttr.txt.extractUrlsWithIndices = function(text, options) {\n    if (!options) {\n      options = {extractUrlsWithoutProtocol: true};\n    }\n    if (!text || (options.extractUrlsWithoutProtocol ? !text.match(/\\./) : !text.match(/:/))) {\n      return [];\n    }\n\n    var urls = [];\n\n    while (twttr.txt.regexen.extractUrl.exec(text)) {\n      var before = RegExp.$2, url = RegExp.$3, protocol = RegExp.$4, domain = RegExp.$5, path = RegExp.$7;\n      var endPosition = twttr.txt.regexen.extractUrl.lastIndex,\n          startPosition = endPosition - url.length;\n\n      // if protocol is missing and domain contains non-ASCII characters,\n      // extract ASCII-only domains.\n      if (!protocol) {\n        if (!options.extractUrlsWithoutProtocol\n            || before.match(twttr.txt.regexen.invalidUrlWithoutProtocolPrecedingChars)) {\n          continue;\n        }\n        var lastUrl = null,\n            asciiEndPosition = 0;\n        domain.replace(twttr.txt.regexen.validAsciiDomain, function(asciiDomain) {\n          var asciiStartPosition = domain.indexOf(asciiDomain, asciiEndPosition);\n          asciiEndPosition = asciiStartPosition + asciiDomain.length;\n          lastUrl = {\n            url: asciiDomain,\n            indices: [startPosition + asciiStartPosition, startPosition + asciiEndPosition]\n          };\n          if (path\n              || asciiDomain.match(twttr.txt.regexen.validSpecialShortDomain)\n              || !asciiDomain.match(twttr.txt.regexen.invalidShortDomain)) {\n            urls.push(lastUrl);\n          }\n        });\n\n        // no ASCII-only domain found. Skip the entire URL.\n        if (lastUrl == null) {\n          continue;\n        }\n\n        // lastUrl only contains domain. Need to add path and query if they exist.\n        if (path) {\n          lastUrl.url = url.replace(domain, lastUrl.url);\n          lastUrl.indices[1] = endPosition;\n        }\n      } else {\n        // In the case of t.co URLs, don't allow additional path characters.\n        if (url.match(twttr.txt.regexen.validTcoUrl)) {\n          url = RegExp.lastMatch;\n          endPosition = startPosition + url.length;\n        }\n        urls.push({\n          url: url,\n          indices: [startPosition, endPosition]\n        });\n      }\n    }\n\n    return urls;\n  };\n\n  twttr.txt.extractHashtags = function(text) {\n    var hashtagsOnly = [],\n        hashtagsWithIndices = twttr.txt.extractHashtagsWithIndices(text);\n\n    for (var i = 0; i < hashtagsWithIndices.length; i++) {\n      hashtagsOnly.push(hashtagsWithIndices[i].hashtag);\n    }\n\n    return hashtagsOnly;\n  };\n\n  twttr.txt.extractHashtagsWithIndices = function(text, options) {\n    if (!options) {\n      options = {checkUrlOverlap: true};\n    }\n\n    if (!text || !text.match(twttr.txt.regexen.hashSigns)) {\n      return [];\n    }\n\n    var tags = [];\n\n    text.replace(twttr.txt.regexen.validHashtag, function(match, before, hash, hashText, offset, chunk) {\n      var after = chunk.slice(offset + match.length);\n      if (after.match(twttr.txt.regexen.endHashtagMatch))\n        return;\n      var startPosition = offset + before.length;\n      var endPosition = startPosition + hashText.length + 1;\n      tags.push({\n        hashtag: hashText,\n        indices: [startPosition, endPosition]\n      });\n    });\n\n    if (options.checkUrlOverlap) {\n      // also extract URL entities\n      var urls = twttr.txt.extractUrlsWithIndices(text);\n      if (urls.length > 0) {\n        var entities = tags.concat(urls);\n        // remove overlap\n        twttr.txt.removeOverlappingEntities(entities);\n        // only push back hashtags\n        tags = [];\n        for (var i = 0; i < entities.length; i++) {\n          if (entities[i].hashtag) {\n            tags.push(entities[i]);\n          }\n        }\n      }\n    }\n\n    return tags;\n  };\n\n  twttr.txt.extractCashtags = function(text) {\n    var cashtagsOnly = [],\n        cashtagsWithIndices = twttr.txt.extractCashtagsWithIndices(text);\n\n    for (var i = 0; i < cashtagsWithIndices.length; i++) {\n      cashtagsOnly.push(cashtagsWithIndices[i].cashtag);\n    }\n\n    return cashtagsOnly;\n  };\n\n  twttr.txt.extractCashtagsWithIndices = function(text) {\n    if (!text || text.indexOf(\"$\") == -1) {\n      return [];\n    }\n\n    var tags = [];\n\n    text.replace(twttr.txt.regexen.validCashtag, function(match, before, dollar, cashtag, offset, chunk) {\n      var startPosition = offset + before.length;\n      var endPosition = startPosition + cashtag.length + 1;\n      tags.push({\n        cashtag: cashtag,\n        indices: [startPosition, endPosition]\n      });\n    });\n\n    return tags;\n  };\n\n  twttr.txt.modifyIndicesFromUnicodeToUTF16 = function(text, entities) {\n    twttr.txt.convertUnicodeIndices(text, entities, false);\n  };\n\n  twttr.txt.modifyIndicesFromUTF16ToUnicode = function(text, entities) {\n    twttr.txt.convertUnicodeIndices(text, entities, true);\n  };\n\n  twttr.txt.getUnicodeTextLength = function(text) {\n    return text.replace(twttr.txt.regexen.non_bmp_code_pairs, ' ').length;\n  };\n\n  twttr.txt.convertUnicodeIndices = function(text, entities, indicesInUTF16) {\n    if (entities.length == 0) {\n      return;\n    }\n\n    var charIndex = 0;\n    var codePointIndex = 0;\n\n    // sort entities by start index\n    entities.sort(function(a,b){ return a.indices[0] - b.indices[0]; });\n    var entityIndex = 0;\n    var entity = entities[0];\n\n    while (charIndex < text.length) {\n      if (entity.indices[0] == (indicesInUTF16 ? charIndex : codePointIndex)) {\n        var len = entity.indices[1] - entity.indices[0];\n        entity.indices[0] = indicesInUTF16 ? codePointIndex : charIndex;\n        entity.indices[1] = entity.indices[0] + len;\n\n        entityIndex++;\n        if (entityIndex == entities.length) {\n          // no more entity\n          break;\n        }\n        entity = entities[entityIndex];\n      }\n\n      var c = text.charCodeAt(charIndex);\n      if (0xD800 <= c && c <= 0xDBFF && charIndex < text.length - 1) {\n        // Found high surrogate char\n        c = text.charCodeAt(charIndex + 1);\n        if (0xDC00 <= c && c <= 0xDFFF) {\n          // Found surrogate pair\n          charIndex++;\n        }\n      }\n      codePointIndex++;\n      charIndex++;\n    }\n  };\n\n  // this essentially does text.split(/<|>/)\n  // except that won't work in IE, where empty strings are ommitted\n  // so \"<>\".split(/<|>/) => [] in IE, but is [\"\", \"\", \"\"] in all others\n  // but \"<<\".split(\"<\") => [\"\", \"\", \"\"]\n  twttr.txt.splitTags = function(text) {\n    var firstSplits = text.split(\"<\"),\n        secondSplits,\n        allSplits = [],\n        split;\n\n    for (var i = 0; i < firstSplits.length; i += 1) {\n      split = firstSplits[i];\n      if (!split) {\n        allSplits.push(\"\");\n      } else {\n        secondSplits = split.split(\">\");\n        for (var j = 0; j < secondSplits.length; j += 1) {\n          allSplits.push(secondSplits[j]);\n        }\n      }\n    }\n\n    return allSplits;\n  };\n\n  twttr.txt.hitHighlight = function(text, hits, options) {\n    var defaultHighlightTag = \"em\";\n\n    hits = hits || [];\n    options = options || {};\n\n    if (hits.length === 0) {\n      return text;\n    }\n\n    var tagName = options.tag || defaultHighlightTag,\n        tags = [\"<\" + tagName + \">\", \"</\" + tagName + \">\"],\n        chunks = twttr.txt.splitTags(text),\n        i,\n        j,\n        result = \"\",\n        chunkIndex = 0,\n        chunk = chunks[0],\n        prevChunksLen = 0,\n        chunkCursor = 0,\n        startInChunk = false,\n        chunkChars = chunk,\n        flatHits = [],\n        index,\n        hit,\n        tag,\n        placed,\n        hitSpot;\n\n    for (i = 0; i < hits.length; i += 1) {\n      for (j = 0; j < hits[i].length; j += 1) {\n        flatHits.push(hits[i][j]);\n      }\n    }\n\n    for (index = 0; index < flatHits.length; index += 1) {\n      hit = flatHits[index];\n      tag = tags[index % 2];\n      placed = false;\n\n      while (chunk != null && hit >= prevChunksLen + chunk.length) {\n        result += chunkChars.slice(chunkCursor);\n        if (startInChunk && hit === prevChunksLen + chunkChars.length) {\n          result += tag;\n          placed = true;\n        }\n\n        if (chunks[chunkIndex + 1]) {\n          result += \"<\" + chunks[chunkIndex + 1] + \">\";\n        }\n\n        prevChunksLen += chunkChars.length;\n        chunkCursor = 0;\n        chunkIndex += 2;\n        chunk = chunks[chunkIndex];\n        chunkChars = chunk;\n        startInChunk = false;\n      }\n\n      if (!placed && chunk != null) {\n        hitSpot = hit - prevChunksLen;\n        result += chunkChars.slice(chunkCursor, hitSpot) + tag;\n        chunkCursor = hitSpot;\n        if (index % 2 === 0) {\n          startInChunk = true;\n        } else {\n          startInChunk = false;\n        }\n      } else if(!placed) {\n        placed = true;\n        result += tag;\n      }\n    }\n\n    if (chunk != null) {\n      if (chunkCursor < chunkChars.length) {\n        result += chunkChars.slice(chunkCursor);\n      }\n      for (index = chunkIndex + 1; index < chunks.length; index += 1) {\n        result += (index % 2 === 0 ? chunks[index] : \"<\" + chunks[index] + \">\");\n      }\n    }\n\n    return result;\n  };\n\n  var MAX_LENGTH = 140;\n\n  // Returns the length of Tweet text with consideration to t.co URL replacement\n  // and chars outside the basic multilingual plane that use 2 UTF16 code points\n  twttr.txt.getTweetLength = function(text, options) {\n    if (!options) {\n      options = {\n          // These come from https://api.twitter.com/1.1/help/configuration.json\n          // described by https://dev.twitter.com/rest/reference/get/help/configuration\n          short_url_length: 23,\n          short_url_length_https: 23\n      };\n    }\n    var textLength = twttr.txt.getUnicodeTextLength(text),\n        urlsWithIndices = twttr.txt.extractUrlsWithIndices(text);\n    twttr.txt.modifyIndicesFromUTF16ToUnicode(text, urlsWithIndices);\n\n    for (var i = 0; i < urlsWithIndices.length; i++) {\n      // Subtract the length of the original URL\n      textLength += urlsWithIndices[i].indices[0] - urlsWithIndices[i].indices[1];\n\n      // Add 23 characters for URL starting with https://\n      // http:// URLs still use https://t.co so they are 23 characters as well\n      if (urlsWithIndices[i].url.toLowerCase().match(twttr.txt.regexen.urlHasHttps)) {\n         textLength += options.short_url_length_https;\n      } else {\n        textLength += options.short_url_length;\n      }\n    }\n\n    return textLength;\n  };\n\n  // Check the text for any reason that it may not be valid as a Tweet. This is meant as a pre-validation\n  // before posting to api.twitter.com. There are several server-side reasons for Tweets to fail but this pre-validation\n  // will allow quicker feedback.\n  //\n  // Returns false if this text is valid. Otherwise one of the following strings will be returned:\n  //\n  //   \"too_long\": if the text is too long\n  //   \"empty\": if the text is nil or empty\n  //   \"invalid_characters\": if the text contains non-Unicode or any of the disallowed Unicode characters\n  twttr.txt.isInvalidTweet = function(text) {\n    if (!text) {\n      return \"empty\";\n    }\n\n    // Determine max length independent of URL length\n    if (twttr.txt.getTweetLength(text) > MAX_LENGTH) {\n      return \"too_long\";\n    }\n\n    if (twttr.txt.hasInvalidCharacters(text)) {\n      return \"invalid_characters\";\n    }\n\n    return false;\n  };\n\n  twttr.txt.hasInvalidCharacters = function(text) {\n    return twttr.txt.regexen.invalid_chars.test(text);\n  };\n\n  twttr.txt.isValidTweetText = function(text) {\n    return !twttr.txt.isInvalidTweet(text);\n  };\n\n  twttr.txt.isValidUsername = function(username) {\n    if (!username) {\n      return false;\n    }\n\n    var extracted = twttr.txt.extractMentions(username);\n\n    // Should extract the username minus the @ sign, hence the .slice(1)\n    return extracted.length === 1 && extracted[0] === username.slice(1);\n  };\n\n  var VALID_LIST_RE = regexSupplant(/^#{validMentionOrList}$/);\n\n  twttr.txt.isValidList = function(usernameList) {\n    var match = usernameList.match(VALID_LIST_RE);\n\n    // Must have matched and had nothing before or after\n    return !!(match && match[1] == \"\" && match[4]);\n  };\n\n  twttr.txt.isValidHashtag = function(hashtag) {\n    if (!hashtag) {\n      return false;\n    }\n\n    var extracted = twttr.txt.extractHashtags(hashtag);\n\n    // Should extract the hashtag minus the # sign, hence the .slice(1)\n    return extracted.length === 1 && extracted[0] === hashtag.slice(1);\n  };\n\n  twttr.txt.isValidUrl = function(url, unicodeDomains, requireProtocol) {\n    if (unicodeDomains == null) {\n      unicodeDomains = true;\n    }\n\n    if (requireProtocol == null) {\n      requireProtocol = true;\n    }\n\n    if (!url) {\n      return false;\n    }\n\n    var urlParts = url.match(twttr.txt.regexen.validateUrlUnencoded);\n\n    if (!urlParts || urlParts[0] !== url) {\n      return false;\n    }\n\n    var scheme = urlParts[1],\n        authority = urlParts[2],\n        path = urlParts[3],\n        query = urlParts[4],\n        fragment = urlParts[5];\n\n    if (!(\n      (!requireProtocol || (isValidMatch(scheme, twttr.txt.regexen.validateUrlScheme) && scheme.match(/^https?$/i))) &&\n      isValidMatch(path, twttr.txt.regexen.validateUrlPath) &&\n      isValidMatch(query, twttr.txt.regexen.validateUrlQuery, true) &&\n      isValidMatch(fragment, twttr.txt.regexen.validateUrlFragment, true)\n    )) {\n      return false;\n    }\n\n    return (unicodeDomains && isValidMatch(authority, twttr.txt.regexen.validateUrlUnicodeAuthority)) ||\n           (!unicodeDomains && isValidMatch(authority, twttr.txt.regexen.validateUrlAuthority));\n  };\n\n  function isValidMatch(string, regex, optional) {\n    if (!optional) {\n      // RegExp[\"$&\"] is the text of the last match\n      // blank strings are ok, but are falsy, so we check stringiness instead of truthiness\n      return ((typeof string === \"string\") && string.match(regex) && RegExp[\"$&\"] === string);\n    }\n\n    // RegExp[\"$&\"] is the text of the last match\n    return (!string || (string.match(regex) && RegExp[\"$&\"] === string));\n  }\n\n  if (typeof module != 'undefined' && module.exports) {\n    module.exports = twttr.txt;\n  }\n\n  if (typeof define == 'function' && define.amd) {\n    define([], twttr.txt);\n  }\n\n  if (typeof window != 'undefined') {\n    if (window.twttr) {\n      for (var prop in twttr) {\n        window.twttr[prop] = twttr[prop];\n      }\n    } else {\n      window.twttr = twttr;\n    }\n  }\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/twitter-text/twitter-text.js\n ** module id = 1\n ** module chunks = 0\n **/","import PDFJSAnnotate from './src/PDFJSAnnotate';\n\nexport default PDFJSAnnotate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","import StoreAdapter from './adapter/StoreAdapter';\nimport LocalStoreAdapter from './adapter/LocalStoreAdapter';\nimport render from './render';\nimport UI from './UI';\nimport config from './config';\nimport uuid from './utils/uuid';\nimport { \n  findAnnotationAtPoint, \n  findSVGContainer,\n  convertToScreenPoint\n} from './UI/utils';\n\nexport default {\n  findAnnotationAtPoint,\n  findSVGContainer,\n  convertToScreenPoint,\n\n  /**\n   * Abstract class that needs to be defined so PDFJSAnnotate\n   * knows how to communicate with your server.\n   */\n  StoreAdapter,\n\n  /**\n   * Implementation of StoreAdapter that stores annotation data to localStorage.\n   */\n  LocalStoreAdapter,\n\n  /**\n   * Abstract instance of StoreAdapter\n   */\n  __storeAdapter: new StoreAdapter(),\n\n  /**\n   * Getter for the underlying StoreAdapter property\n   *\n   * @return {StoreAdapter}\n   */\n  getStoreAdapter() {\n    return this.__storeAdapter;\n  },\n\n  /**\n   * Setter for the underlying StoreAdapter property\n   *\n   * @param {StoreAdapter} adapter The StoreAdapter implementation to be used.\n   */\n  setStoreAdapter(adapter) {\n    // TODO this throws an error when bundled\n    // if (!(adapter instanceof StoreAdapter)) {\n    //   throw new Error('adapter must be an instance of StoreAdapter');\n    // }\n\n    this.__storeAdapter = adapter;\n  },\n\n  /**\n   * UI is a helper for instrumenting UI interactions for creating,\n   * editing, and deleting annotations in the browser.\n   */\n  UI,\n\n  /**\n   * Render the annotations for a page in the PDF Document\n   *\n   * @param {SVGElement} svg The SVG element that annotations should be rendered to\n   * @param {PageViewport} viewport The PDFPage.getViewport data\n   * @param {Object} data The StoreAdapter.getAnnotations data\n   * @return {Promise}\n   */\n  render,\n\n  /**\n   * Convenience method for getting annotation data\n   *\n   * @alias StoreAdapter.getAnnotations\n   * @param {String} documentId The ID of the document\n   * @param {String} pageNumber The page number\n   * @return {Promise}\n   */\n  getAnnotations(documentId, pageNumber) {\n    return this.getStoreAdapter().getAnnotations(...arguments);\n  },\n\n  config,\n\n  uuid\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/PDFJSAnnotate.js\n **/","import abstractFunction from '../utils/abstractFunction';\nimport { fireEvent } from '../UI/event';\n\n// Adapter should never be invoked publicly\nexport default class StoreAdapter {\n  /**\n   * Create a new StoreAdapter instance\n   *\n   * @param {Object} [definition] The definition to use for overriding abstract methods\n   */\n  constructor(definition = {}) {\n    // Copy each function from definition if it is a function we know about\n    Object.keys(definition).forEach((key) => {\n      if (typeof definition[key] === 'function' &&\n          typeof this[key] === 'function') {\n        this[key] = definition[key];\n      }\n    });\n  }\n\n  /**\n   * Get all the annotations for a given document and page number.\n   *\n   * @param {String} documentId The ID for the document the annotations belong to\n   * @param {Number} pageNumber The number of the page the annotations belong to\n   * @return {Promise}\n   */\n  __getAnnotations(documentId, pageNumber) { abstractFunction('getAnnotations'); }\n  get getAnnotations() { return this.__getAnnotations; }\n  set getAnnotations(fn) {\n    this.__getAnnotations = function getAnnotations(documentId, pageNumber) {\n      return fn(...arguments).then((annotations) => {\n        // TODO may be best to have this happen on the server\n        if (annotations.annotations) {\n          annotations.annotations.forEach((a) => {\n            a.documentId = documentId;\n          });\n        }\n        return annotations;\n      });\n    };\n  }\n\n  /**\n   * Get the definition for a specific annotation.\n   *\n   * @param {String} documentId The ID for the document the annotation belongs to\n   * @param {String} annotationId The ID for the annotation\n   * @return {Promise}\n   */\n  getAnnotation(documentId, annotationId) { abstractFunction('getAnnotation'); }\n\n  /**\n   * Add an annotation\n   *\n   * @param {String} documentId The ID for the document to add the annotation to\n   * @param {String} pageNumber The page number to add the annotation to\n   * @param {Object} annotation The definition for the new annotation\n   * @return {Promise}\n   */\n  __addAnnotation(documentId, pageNumber, annotation) { abstractFunction('addAnnotation'); }\n  get addAnnotation() { return this.__addAnnotation; }\n  set addAnnotation(fn) {\n    this.__addAnnotation = function addAnnotation(documentId, pageNumber, annotation) {\n      return fn(...arguments).then((annotation) => {\n        fireEvent('annotation:add', documentId, pageNumber, annotation);\n        return annotation;\n      });\n    };\n  }\n\n  /**\n   * Edit an annotation\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} pageNumber the page number of the annotation\n   * @param {Object} annotation The definition of the modified annotation\n   * @return {Promise}\n   */\n  __editAnnotation(documentId, pageNumber, annotation) { abstractFunction('editAnnotation'); }\n  get editAnnotation() { return this.__editAnnotation; }\n  set editAnnotation(fn) {\n    this.__editAnnotation = function editAnnotation(documentId, annotationId, annotation) {\n      return fn(...arguments).then((annotation) => {\n        fireEvent('annotation:edit', documentId, annotationId, annotation);\n        return annotation;\n      });\n    };\n  }\n\n  /**\n   * Delete an annotation\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} annotationId The ID for the annotation\n   * @return {Promise}\n   */\n  __deleteAnnotation(documentId, annotationId) { abstractFunction('deleteAnnotation'); }\n  get deleteAnnotation() { return this.__deleteAnnotation; }\n  set deleteAnnotation(fn) {\n    this.__deleteAnnotation = function deleteAnnotation(documentId, annotationId) {\n      return fn(...arguments).then((success) => {\n        if (success) {\n          fireEvent('annotation:delete', documentId, annotationId);\n        }\n        return success;\n      });\n    };\n  }\n\n  /**\n   * Get all the comments for an annotation\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} annotationId The ID for the annotation\n   * @return {Promise}\n   */\n  getComments(documentId, annotationId) { abstractFunction('getComments'); }\n\n  /**\n   * Add a new comment\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} annotationId The ID for the annotation\n   * @param {Object} content The definition of the comment\n   * @return {Promise}\n   */\n  __addComment(documentId, annotationId, content) { abstractFunction('addComment'); }\n  get addComment() { return this.__addComment; }\n  set addComment(fn) {\n    this.__addComment = function addComment(documentId, annotationId, content) {\n      return fn(...arguments).then((comment) => {\n        fireEvent('comment:add', documentId, annotationId, comment);\n        return comment;\n      });\n    };\n  }\n\n  /**\n   * Delete a comment\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} commentId The ID for the comment\n   * @return {Promise}\n   */\n  __deleteComment(documentId, commentId) { abstractFunction('deleteComment'); }\n  get deleteComment() { return this.__deleteComment; }\n  set deleteComment(fn) {\n    this.__deleteComment = function deleteComment(documentId, commentId) {\n      return fn(...arguments).then((success) => {\n        if (success) {\n          fireEvent('comment:delete', documentId, commentId);\n        }\n        return success;\n      });\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapter/StoreAdapter.js\n **/","/**\n * Throw an Error for an abstract function that hasn't been implemented.\n *\n * @param {String} name The name of the abstract function\n */\nexport default function abstractFunction(name) {\n  throw new Error(name + ' is not implemented');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/abstractFunction.js\n **/","import EventEmitter from 'events';\nimport {\n  findAnnotationAtPoint,\n  findSVGAtPoint\n} from './utils';\n\nconst emitter = new EventEmitter;\n\nlet clickNode;\n\n/**\n * Handle document.click event\n *\n * @param {Event} e The DOM event to be handled\n */\ndocument.addEventListener('click', function handleDocumentClick(e) {\n  if (!findSVGAtPoint(e.clientX, e.clientY)) { return; }\n\n  let target = findAnnotationAtPoint(e.clientX, e.clientY);\n\n  // Emit annotation:blur if clickNode is no longer clicked\n  if (clickNode && clickNode !== target) {\n    emitter.emit('annotation:blur', clickNode);\n  }\n\n  // Emit annotation:click if target was clicked\n  if (target) {\n    emitter.emit('annotation:click', target);\n  }\n\n  clickNode = target;\n});\n\n// let mouseOverNode;\n// document.addEventListener('mousemove', function handleDocumentMousemove(e) {\n//   let target = findAnnotationAtPoint(e.clientX, e.clientY);\n//\n//   // Emit annotation:mouseout if target was mouseout'd\n//   if (mouseOverNode && !target) {\n//     emitter.emit('annotation:mouseout', mouseOverNode);\n//   }\n//\n//   // Emit annotation:mouseover if target was mouseover'd\n//   if (target && mouseOverNode !== target) {\n//     emitter.emit('annotation:mouseover', target);\n//   }\n//\n//   mouseOverNode = target;\n// });\n\nexport function fireEvent() { emitter.emit(...arguments); };\nexport function addEventListener() { emitter.on(...arguments); };\nexport function removeEventListener() { emitter.removeListener(...arguments); };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/event.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/events/events.js\n ** module id = 7\n ** module chunks = 0\n **/","import createStyleSheet from 'create-stylesheet';\nimport { getTranslation } from '../render/appendChild';\nimport { \n  applyTransform, \n  applyInverseTransform, \n  translate,\n  rotate,\n  scale \n} from '../utils/mathUtils';\n\n\nexport const BORDER_COLOR = '#00BFFF';\n\nconst userSelectStyleSheet = createStyleSheet({\n  body: {\n    '-webkit-user-select': 'none',\n       '-moz-user-select': 'none',\n        '-ms-user-select': 'none',\n            'user-select': 'none'\n  }\n});\nuserSelectStyleSheet.setAttribute('data-pdf-annotate-user-select', 'true');\n\n/**\n * Find the SVGElement that contains all the annotations for a page\n *\n * @param {Element} node An annotation within that container\n * @return {SVGElement} The container SVG or null if it can't be found\n */\nexport function findSVGContainer(node) {\n  let parentNode = node;\n\n  while ((parentNode = parentNode.parentNode) &&\n          parentNode !== document) {\n    if (parentNode.nodeName.toUpperCase() === 'SVG' &&\n        parentNode.getAttribute('data-pdf-annotate-container') === 'true') {\n      return parentNode;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find an SVGElement container at a given point\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @return {SVGElement} The container SVG or null if one can't be found\n */\nexport function findSVGAtPoint(x, y) {\n  let elements = document.querySelectorAll('svg[data-pdf-annotate-container=\"true\"]');\n\n  for (let i=0, l=elements.length; i<l; i++) {\n    let el = elements[i];\n    let rect = el.getBoundingClientRect();\n\n    if (pointIntersectsRect(x, y, rect)) {\n      return el;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find an Element that represents an annotation at a given point.\n * \n * IMPORTANT: Requires the annotation layer to be the top most element so\n *            either use z-ordering or make it the leaf container.\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @return {Element} The annotation element or null if one can't be found\n */\nexport function findAnnotationAtPoint(x, y) {\n  let el = null;\n  var candidate = document.elementFromPoint(x, y)\n  while (!el && candidate && candidate !== document) {  \n    let type = candidate.getAttribute('data-pdf-annotate-type');\n    if (type) {\n      el = candidate;\n    }\n    candidate = candidate.parentNode;\n  }\n  return el;\n}\n\n/**\n * Determine if a point intersects a rect\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Object} rect The points of a rect (likely from getBoundingClientRect)\n * @return {Boolean} True if a collision occurs, otherwise false\n */\nexport function pointIntersectsRect(x, y, rect) {\n  return y >= rect.top && y <= rect.bottom && x >= rect.left && x <= rect.right;\n}\n\n/**\n * Get the rect of an annotation element accounting for offset.\n *\n * @param {Element} el The element to get the rect of\n * @return {Object} The dimensions of the element\n */\nexport function getOffsetAnnotationRect(el) {\n  let rect = el.getBoundingClientRect();\n  let { offsetLeft, offsetTop } = getOffset(el);\n  return {\n    top: rect.top - offsetTop,\n    left: rect.left - offsetLeft,\n    right: rect.right - offsetLeft,\n    bottom: rect.bottom - offsetTop,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n/**\n * Adjust scale from normalized scale (100%) to rendered scale.\n *\n * @param {SVGElement} svg The SVG to gather metadata from\n * @param {Object} rect A map of numeric values to scale\n * @return {Object} A copy of `rect` with values scaled up\n */\nexport function scaleUp(svg, rect) {\n  let result = {};\n  let { viewport } = getMetadata(svg);\n\n  Object.keys(rect).forEach((key) => {\n    result[key] = rect[key] * viewport.scale;\n  });\n\n  return result;\n}\n\nexport function convertToSvgRect(rect, svg, viewport) {\n  var pt1 = [rect.x, rect.y];\n  var pt2 = [rect.x + rect.width, rect.y + rect.height];\n\n  pt1 = convertToSvgPoint(pt1, svg, viewport);\n  pt2 = convertToSvgPoint(pt2, svg, viewport);\n\n  return {\n    x: Math.min(pt1[0], pt2[0]),\n    y: Math.min(pt1[1], pt2[1]),\n    width: Math.abs(pt2[0] - pt1[0]),\n    height: Math.abs(pt2[1] - pt1[1])\n  };\n}\n\nexport function convertToSvgPoint(pt, svg, viewport) {\n  let result = {};\n  viewport = viewport || getMetadata(svg).viewport;\n\n  let xform = [ 1, 0, 0, 1, 0, 0 ];\n  xform = scale(xform, viewport.scale, viewport.scale);\n  xform = rotate(xform, viewport.rotation);\n\n  let offset = getTranslation(viewport);\n  xform = translate(xform, offset.x, offset.y);\n\n  return applyInverseTransform(pt, xform);\n}\n\nexport function convertToScreenPoint(pt, svg, viewport) {\n  let result = {};\n  viewport = viewport || getMetadata(svg).viewport;\n\n  let xform = [ 1, 0, 0, 1, 0, 0 ];\n  xform = scale(xform, viewport.scale, viewport.scale);\n  xform = rotate(xform, viewport.rotation);\n\n  let offset = getTranslation(viewport);\n  xform = translate(xform, offset.x, offset.y);\n\n  return applyTransform(pt, xform);\n}\n\n/**\n * Adjust scale from rendered scale to a normalized scale (100%).\n *\n * @param {SVGElement} svg The SVG to gather metadata from\n * @param {Object} rect A map of numeric values to scale\n * @return {Object} A copy of `rect` with values scaled down\n */\nexport function scaleDown(svg, rect) {\n  let result = {};\n  let { viewport } = getMetadata(svg);\n\n  Object.keys(rect).forEach((key) => {\n    result[key] = rect[key] / viewport.scale;\n  });\n\n  return result;\n}\n\n/**\n * Get the scroll position of an element, accounting for parent elements\n *\n * @param {Element} el The element to get the scroll position for\n * @return {Object} The scrollTop and scrollLeft position\n */\nexport function getScroll(el) {\n  let scrollTop = 0;\n  let scrollLeft = 0;\n  let parentNode = el;\n\n  while ((parentNode = parentNode.parentNode) &&\n          parentNode !== document) {\n    scrollTop += parentNode.scrollTop;\n    scrollLeft += parentNode.scrollLeft;\n  }\n\n  return { scrollTop, scrollLeft };\n}\n\n/**\n * Get the offset position of an element, accounting for parent elements\n *\n * @param {Element} el The element to get the offset position for\n * @return {Object} The offsetTop and offsetLeft position\n */\nexport function getOffset(el) {\n  let parentNode = el;\n\n  while ((parentNode = parentNode.parentNode) &&\n          parentNode !== document) {\n    if (parentNode.nodeName.toUpperCase() === 'SVG') {\n      break;\n    }\n  }\n\n  let rect = parentNode.getBoundingClientRect();\n\n  return { offsetLeft: rect.left, offsetTop: rect.top };\n}\n\n/**\n * Disable user ability to select text on page\n */\nexport function disableUserSelect() {\n  if (!userSelectStyleSheet.parentNode) {\n    document.head.appendChild(userSelectStyleSheet);\n  }\n}\n\n\n/**\n * Enable user ability to select text on page\n */\nexport function enableUserSelect() {\n  if (userSelectStyleSheet.parentNode) {\n    userSelectStyleSheet.parentNode.removeChild(userSelectStyleSheet);\n  }\n}\n\n/**\n * Get the metadata for a SVG container\n *\n * @param {SVGElement} svg The SVG container to get metadata for\n */\nexport function getMetadata(svg) {\n  return {\n    documentId: svg.getAttribute('data-pdf-annotate-document'),\n    pageNumber: parseInt(svg.getAttribute('data-pdf-annotate-page'), 10),\n    viewport: JSON.parse(svg.getAttribute('data-pdf-annotate-viewport'))\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/utils.js\n **/","module.exports = function createStyleSheet(blocks) {\n  var style = document.createElement('style');\n  var text = Object.keys(blocks).map(function (selector) {\n    return processRuleSet(selector, blocks[selector]);\n  }).join('\\n');\n  \n  style.setAttribute('type', 'text/css');\n  style.appendChild(document.createTextNode(text));\n\n  return style;\n}\n\nfunction processRuleSet(selector, block) {\n  return selector + ' {\\n' + processDeclarationBlock(block) + '\\n}';\n}\n\nfunction processDeclarationBlock(block) {\n  return Object.keys(block).map(function (prop) {\n    return processDeclaration(prop, block[prop]);\n  }).join('\\n');\n}\n\nfunction processDeclaration(prop, value) {\n  if (!isNaN(value) && value != 0) {\n    value = value + 'px';\n  }\n\n  return hyphenate(prop) + ': ' + value + ';';\n}\n\nfunction hyphenate(prop) {\n  return prop.replace(/[A-Z]/g, function (match) {\n    return '-' + match.toLowerCase();\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-stylesheet/index.js\n ** module id = 9\n ** module chunks = 0\n **/","import objectAssign from 'object-assign';\nimport renderLine from './renderLine';\nimport renderPath from './renderPath';\nimport renderPoint from './renderPoint';\nimport renderRect from './renderRect';\nimport renderText from './renderText';\nimport renderCircle from './renderCircle';\nimport renderArrow from './renderArrow';\n\nconst isFirefox = /firefox/i.test(navigator.userAgent);\n\n/**\n * Get the x/y translation to be used for transforming the annotations\n * based on the rotation of the viewport.\n *\n * @param {Object} viewport The viewport data from the page\n * @return {Object}\n */\nexport function getTranslation(viewport) {\n  let x;\n  let y;\n\n  // Modulus 360 on the rotation so that we only\n  // have to worry about four possible values.\n  switch(viewport.rotation % 360) {\n    case 0:\n      x = y = 0;\n      break;\n    case 90:\n      x = 0;\n      y = (viewport.width / viewport.scale) * -1;\n      break;\n    case 180:\n      x = (viewport.width / viewport.scale) * -1;\n      y = (viewport.height / viewport.scale) * -1;\n      break;\n    case 270:\n      x = (viewport.height / viewport.scale) * -1;\n      y = 0;\n      break;\n  }\n\n  return { x, y };\n}\n\n/**\n * Transform the rotation and scale of a node using SVG's native transform attribute.\n *\n * @param {Node} node The node to be transformed\n * @param {Object} viewport The page's viewport data\n * @return {Node}\n */\nfunction transform(node, viewport) {\n  let trans = getTranslation(viewport);\n\n  // Let SVG natively transform the element\n  node.setAttribute('transform', `scale(${viewport.scale}) rotate(${viewport.rotation}) translate(${trans.x}, ${trans.y})`);\n  \n  // Manually adjust x/y for nested SVG nodes\n  if (!isFirefox && node.nodeName.toLowerCase() === 'svg') {\n    node.setAttribute('x', parseInt(node.getAttribute('x'), 10) * viewport.scale);\n    node.setAttribute('y', parseInt(node.getAttribute('y'), 10) * viewport.scale);\n\n    let x = parseInt(node.getAttribute('x', 10));\n    let y = parseInt(node.getAttribute('y', 10));\n    let width = parseInt(node.getAttribute('width'), 10);\n    let height = parseInt(node.getAttribute('height'), 10);\n    let path = node.querySelector('path');\n    let svg = path.parentNode;\n   \n    // Scale width/height\n    [node, svg, path, node.querySelector('rect')].forEach((n) => {\n      n.setAttribute('width', parseInt(n.getAttribute('width'), 10) * viewport.scale);\n      n.setAttribute('height', parseInt(n.getAttribute('height'), 10) * viewport.scale);\n    });\n\n    // Transform path but keep scale at 100% since it will be handled natively\n    transform(path, objectAssign({}, viewport, { scale: 1 }));\n    \n    switch(viewport.rotation % 360) {\n      case 90:\n        node.setAttribute('x', viewport.width - y - width);\n        node.setAttribute('y', x);\n        svg.setAttribute('x', 1);\n        svg.setAttribute('y', 0);\n        break;\n      case 180:\n        node.setAttribute('x', viewport.width - x - width);\n        node.setAttribute('y', viewport.height - y - height);\n        svg.setAttribute('y', 2);\n        break;\n      case 270:\n        node.setAttribute('x', y);\n        node.setAttribute('y', viewport.height - x - height);\n        svg.setAttribute('x', -1);\n        svg.setAttribute('y', 0);\n        break;\n    }\n  }\n\n  return node;\n}\n\n/**\n * Append an annotation as a child of an SVG.\n *\n * @param {SVGElement} svg The SVG element to append the annotation to\n * @param {Object} annotation The annotation definition to render and append\n * @param {Object} viewport The page's viewport data\n * @return {SVGElement} A node that was created and appended by this function\n */\nexport function appendChild(svg, annotation, viewport) {\n  if (!viewport) {\n    viewport = JSON.parse(svg.getAttribute('data-pdf-annotate-viewport'));\n  }\n  \n  let child;\n  switch (annotation.type) {\n    case 'area':\n    case 'highlight':\n      child = renderRect(annotation);\n      break;\n    case 'circle':\n    case 'fillcircle':\n    case 'emptycircle':\n      child = renderCircle(annotation);\n      break;\n    case 'strikeout':\n      child = renderLine(annotation);\n      break;\n    case 'point':\n      child = renderPoint(annotation);\n      break;\n    case 'textbox':\n      child = renderText(annotation);\n      break;\n    case 'drawing':\n      child = renderPath(annotation);\n      break;\n    case 'arrow':\n      child = renderArrow(annotation);\n      break;\n  }\n\n  // If no type was provided for an annotation it will result in node being null.\n  // Skip appending/transforming if node doesn't exist.\n  if (child) {\n    // Set attributes\n    child.setAttribute('data-pdf-annotate-id', annotation.uuid);\n    child.setAttribute('data-pdf-annotate-type', annotation.type);\n    child.setAttribute('aria-hidden', true);\n\n    svg.appendChild(transform(child, viewport));\n  }\n\n  return child;\n}\n\n/**\n * Transform a child annotation of an SVG.\n *\n * @param {SVGElement} svg The SVG element with the child annotation\n * @param {Object} child The SVG child to transform\n * @param {Object} viewport The page's viewport data\n * @return {SVGElement} A node that was transformed by this function\n */\nexport function transformChild(svg, child, viewport) {\n  if (!viewport) {\n    viewport = JSON.parse(svg.getAttribute('data-pdf-annotate-viewport'));\n  }\n\n  // If no type was provided for an annotation it will result in node being null.\n  // Skip transforming if node doesn't exist.\n  if (child) {\n    child = transform(child, viewport);\n  }\n\n  return child;\n}\n\nexport default {\n  /**\n   * Get the x/y translation to be used for transforming the annotations\n   * based on the rotation of the viewport.\n   */\n  getTranslation,\n  \n  /**\n   * Append an SVG child for an annotation\n   */\n  appendChild,\n\n  /**\n   * Transform an existing SVG child\n   */  \n  transformChild\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/appendChild.js\n **/","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 11\n ** module chunks = 0\n **/","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGLineElements from an annotation definition.\n * This is used for anntations of type `strikeout`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGGElement} A group of all lines to be rendered\n */\nexport default function renderLine(a) {\n  let group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n  setAttributes(group, {\n    stroke: normalizeColor(a.color || '#f00'),\n    strokeWidth: 1\n  });\n\n  a.rectangles.forEach((r) => {\n    let line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n\n    setAttributes(line, {\n      x1: r.x,\n      y1: r.y,\n      x2: r.x + r.width,\n      y2: r.y,\n    });\n\n    group.appendChild(line);\n  });\n\n  return group;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderLine.js\n **/","const UPPER_REGEX = /[A-Z]/g;\n\n// Don't convert these attributes from camelCase to hyphenated-attributes\nconst BLACKLIST = [\n  'viewBox'\n];\n\nlet keyCase = (key) => {\n  if (BLACKLIST.indexOf(key) === -1) {\n    key = key.replace(UPPER_REGEX, match => '-' + match.toLowerCase());\n  }\n  return key;\n}\n\n/**\n * Set attributes for a node from a map\n *\n * @param {Node} node The node to set attributes on\n * @param {Object} attributes The map of key/value pairs to use for attributes\n */\nexport default function setAttributes(node, attributes) {\n  Object.keys(attributes).forEach((key) => {\n    node.setAttribute(keyCase(key), attributes[key]);\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/setAttributes.js\n **/","const REGEX_HASHLESS_HEX = /^([a-f0-9]{6}|[a-f0-9]{3})$/i;\n\n/**\n * Normalize a color value\n *\n * @param {String} color The color to normalize\n * @return {String}\n */\nexport default function normalizeColor(color) {\n  if (REGEX_HASHLESS_HEX.test(color)) {\n    color = `#${color}`;\n  }\n  return color;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/normalizeColor.js\n **/","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGPathElement from an annotation definition.\n * This is used for anntations of type `drawing`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGPathElement} The path to be rendered\n */\nexport default function renderPath(a) {\n  let d = [];\n  let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  \n  \n  for (let i=0, l=a.lines.length; i<l; i++) {\n    var p1 = a.lines[i];\n    var p2 = a.lines[i+1];\n    if (p2) {\n      d.push(`M${p1[0]} ${p1[1]} ${p2[0]} ${p2[1]}`);\n    }\n  }\n\n/*\n  \n   if(a.lines.length>2) {\n    var p1 = a.lines[0];\n    var p2 = a.lines[a.lines.length-1];\n\n    var p3 = []; //arrow \n    var p4 = [];\n    var p0 = []; //arrow intersection\n\n\n \n    if (p2) {\n      var k = -(p2[0]-p1[0])/(p2[1]-p1[1]);\n\n      var deltaX = 3;\n      p0[0] = p1[0]+0.8*(p2[0]-p1[0]);\n      p0[1] = p1[1]+0.8*(p2[1]-p1[1]);\n\n      p3[0] = p0[0] + deltaX;\n      p3[1] = p0[1] + k*deltaX;\n\n      p4[0] = p0[0] - deltaX;\n      p4[1] = p0[1] - k*deltaX;\n\n      if(Math.abs(p2[1]-p1[1]) < 20) {\n\n        p3[0] = p0[0] ;\n        p3[1] = p0[1] + deltaX*1;\n\n        p4[0] = p0[0] ;\n        p4[1] = p0[1] - deltaX*1;\n\n      }\n\n      d.push(`M${p1[0]} ${p1[1]} ${p2[0]} ${p2[1]}`);\n       //d.push(`M${p1[0]} ${p1[1]} ${p2[0]} ${p2[1]}`);\n      d.push(`M${p2[0]} ${p2[1]} ${p3[0]} ${p3[1]}`);\n      d.push(`M${p3[0]} ${p3[1]} ${p4[0]} ${p4[1]}`);\n      d.push(`M${p4[0]} ${p4[1]} ${p2[0]} ${p2[1]}`);\n     }\n    }*/\n  \n  setAttributes(path, {\n    d: `${d.join(' ')}Z`,\n    stroke: normalizeColor(a.color || '#000'),\n    strokeWidth: a.width || 1,\n    fill: 'none'\n  });\n\n  return path;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderPath.js\n **/","import setAttributes from '../utils/setAttributes';\n\nconst SIZE = 25;\nconst D = 'M499.968 214.336q-113.832 0 -212.877 38.781t-157.356 104.625 -58.311 142.29q0 62.496 39.897 119.133t112.437 97.929l48.546 27.9 -15.066 53.568q-13.392 50.778 -39.06 95.976 84.816 -35.154 153.45 -95.418l23.994 -21.204 31.806 3.348q38.502 4.464 72.54 4.464 113.832 0 212.877 -38.781t157.356 -104.625 58.311 -142.29 -58.311 -142.29 -157.356 -104.625 -212.877 -38.781z';\n\n/**\n * Create SVGElement from an annotation definition.\n * This is used for anntations of type `comment`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGElement} A svg to be rendered\n */\nexport default function renderPoint(a) {\n  let outerSVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  let innerSVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n  let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n  setAttributes(outerSVG,  {\n    width: SIZE,\n    height: SIZE,\n    x: a.x,\n    y: a.y\n  });\n\n  setAttributes(innerSVG, {\n    width: SIZE,\n    height: SIZE,\n    x: 0,\n    y: (SIZE * 0.05) * -1,\n    viewBox: '0 0 1000 1000'\n  });\n\n  setAttributes(rect, {\n    width: SIZE,\n    height: SIZE,\n    stroke: '#000',\n    fill: '#ff0'\n  });\n\n  setAttributes(path, {\n    d: D,\n    strokeWidth: 50,\n    stroke: '#000',\n    fill: '#fff'\n  });\n\n  innerSVG.appendChild(path);\n  outerSVG.appendChild(rect);\n  outerSVG.appendChild(innerSVG);\n\n  return outerSVG;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderPoint.js\n **/","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGRectElements from an annotation definition.\n * This is used for anntations of type `area` and `highlight`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGGElement|SVGRectElement} A group of all rects to be rendered\n */\nexport default function renderRect(a) {\n  if (a.type === 'highlight') {\n    let group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n    setAttributes(group, {\n      fill: normalizeColor(a.color || '#ff0'),\n      fillOpacity: 0.2\n    });\n    \n    a.rectangles.forEach((r) => {\n      group.appendChild(createRect(r));\n    });\n\n    return group;\n  } else {\n    let rect = createRect(a);\n    setAttributes(rect, {\n      stroke: normalizeColor(a.color || '#f00'),\n      fill: 'none'\n    });\n\n    return rect;\n  }\n}\n\nfunction createRect(r) {\n  let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n\n  setAttributes(rect, {\n    x: r.x,\n    y: r.y,\n    width: r.width,\n    height: r.height\n  });\n\n  return rect;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderRect.js\n **/","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGTextElement from an annotation definition.\n * This is used for anntations of type `textbox`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGTextElement} A text to be rendered\n */\nexport default function renderText(a) {\n\n  // Text should be rendered at 0 degrees relative to\n  // document rotation\n  let text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n  let x = a.x;\n  let y = a.y;\n\n  setAttributes(text, {\n    x: x,\n    y: y,\n    fill: normalizeColor(a.color || '#000'),\n    fontSize: a.size,\n    transform: `rotate(${a.rotation}, ${x}, ${y})`\n  });\n  text.innerHTML = a.content;\n\n  var g = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n  g.appendChild(text);\n\n  return g;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderText.js\n **/","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create an SVGCircleElement from an annotation definition.\n * This is used for annotations of type `circle`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGGElement|SVGCircleElement} A circle to be rendered\n */\nexport default function renderCircle(a) {\n  let circle = createCircle(a);\n  let color = normalizeColor(a.color || '#f00')\n\n  if (a.type === 'circle')\n    setAttributes(circle, {\n      stroke: color,\n      fill: 'none',\n      'stroke-width': 5\n    });\n  if (a.type === 'emptycircle')\n    setAttributes(circle, {\n      stroke: color,\n      fill: 'none',\n      'stroke-width': 2\n    });\n\n  if (a.type === 'fillcircle')\n    setAttributes(circle, {\n      stroke: color,\n      fill: color,\n      'stroke-width': 5\n    });\n\n  return circle;\n}\n\nfunction createCircle(a) {\n  let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n  setAttributes(circle, {\n    cx: a.cx,\n    cy: a.cy,\n    r: a.r\n  });\n\n  return circle;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderCircle.js\n **/","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\nimport { \n  makePoint, makeVector, makeVectorFromPoints,\n  magnitude, unitVector, crossProduct,\n  addVector, multiplyVector, negateVector\n} from '../utils/mathUtils';\n\n/**\n * Create SVGPathElement from an annotation definition.\n * This is used for anntations of type `drawing`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGPathElement} The path to be rendered\n */\nexport default function renderArrow(a) {\n  let d = [];\n  let arrow = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');\n\n  if (a.lines.length == 2) {\n    let p1 = a.lines[0];\n    let p2 = a.lines[a.lines.length - 1];\n\n    let arrowLength = 40;\n    let pt0 = makePoint(p1[0], p1[1], 0);\n    let pt1 = makePoint(p2[0], p2[1], 0);\n    let x = makeVectorFromPoints(pt0, pt1);\n    let unitX = unitVector(x);\n    pt1 = addVector(pt0, multiplyVector(unitX, arrowLength));\n    x = makeVectorFromPoints(pt0, pt1);\n    let unitZ = makeVector(0, 0, 1);\n    let unitY = unitVector(crossProduct(unitX, unitZ));\n    let thickness = a.width || 10;\n\n    let A = addVector(pt0, multiplyVector(unitY, thickness * 0.5)); \n    let B = addVector(A, multiplyVector(unitX, magnitude(x) - thickness * 2.0)); \n    let C = addVector(B, multiplyVector(unitY, thickness)); \n    let D = pt1;\n    let G = addVector(pt0, multiplyVector(negateVector(unitY), thickness * 0.5)); \n    let F = addVector(G, multiplyVector(unitX, magnitude(x) - thickness * 2.0)); \n    let E = addVector(F, multiplyVector(negateVector(unitY), thickness)); \n\n    let points = '' + \n      A.x + ',' + A.y + ' ' +\n      B.x + ',' + B.y + ' ' +\n      C.x + ',' + C.y + ' ' +\n      D.x + ',' + D.y + ' ' +\n      E.x + ',' + E.y + ' ' +\n      F.x + ',' + F.y + ' ' +\n      G.x + ',' + G.y\n\n    setAttributes(arrow, {\n      points: points,\n      stroke: normalizeColor(a.color || '#000'),\n      fill: normalizeColor(a.color || '#000')\n    });\n  }\n\n  return arrow;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/renderArrow.js\n **/","// Transform point by matrix\n//\nexport function applyTransform(p, m) {\n  var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n  var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n  return [xt, yt];\n};\n\n// Transform point by matrix inverse\n//\nexport function applyInverseTransform(p, m) {\n  var d = m[0] * m[3] - m[1] * m[2];\n  var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n  var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n  return [xt, yt];\n};\n\n\n// Concatenates two transformation matrices together and returns the result.\nexport function transform(m1, m2) {\n  return [\n    m1[0] * m2[0] + m1[2] * m2[1],\n    m1[1] * m2[0] + m1[3] * m2[1],\n    m1[0] * m2[2] + m1[2] * m2[3],\n    m1[1] * m2[2] + m1[3] * m2[3],\n    m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n    m1[1] * m2[4] + m1[3] * m2[5] + m1[5]\n  ];\n};\n\nexport function translate(m, x, y) {\n  return [\n    m[0],\n    m[1],\n    m[2],\n    m[3],\n    m[0] * x + m[2] * y + m[4],\n    m[1] * x + m[3] * y + m[5]\n  ];\n};\n\n\nexport function rotate(m, angle) {\n  angle = angle * Math.PI / 180;\n\n  var cosValue = Math.cos(angle);\n  var sinValue = Math.sin(angle);\n\n  return [\n    m[0] * cosValue + m[2] * sinValue,\n    m[1] * cosValue + m[3] * sinValue,\n    m[0] * (-sinValue) + m[2] * cosValue,\n    m[1] * (-sinValue) + m[3] * cosValue,\n    m[4],\n    m[5]\n  ];\n};\n\nexport function scale(m, x, y) {\n  return [\n    m[0] * x,\n    m[1] * x,\n    m[2] * y,\n    m[3] * y,\n    m[4],\n    m[5]\n  ];\n};\n  \nfunction getInverseTransform(m) {\n  var d = m[0] * m[3] - m[1] * m[2];\n  return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d,\n    (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n};\n\n\nexport function makePoint(x, y, z) {\n  return { x: x, y: y, z: z }\n}\n\nexport function makeVector(xcoord, ycoord, zcoord) {\n  return { xcoord: xcoord, ycoord: ycoord, zcoord: zcoord }\n}\n\nexport function makeVectorFromPoints(pt1, pt2)\n{\n  let xcoord = pt2.x - pt1.x;\n  let ycoord = pt2.y - pt1.y;\n  let zcoord = pt2.z - pt1.z;\n  return makeVector(xcoord, ycoord, zcoord);\n}\n\nexport function addVector(pt, v) {\n  return makePoint(pt.x + v.xcoord, pt.y + v.ycoord, pt.z + v.zcoord);\n}\n\nexport function multiplyVector(v, scalar) {\n  return makeVector(v.xcoord * scalar, v.ycoord * scalar, v.zcoord * scalar);\n}\n\nexport function magnitude(v)\n{\n  return Math.sqrt(\n    Math.pow(v.xcoord, 2) + Math.pow(v.ycoord, 2) + Math.pow(v.zcoord, 2)\n  );\n}\n\nexport function negateVector(v) {\n  return multiplyVector(v, -1);\n}\n\nexport function unitVector(v) {\n  let mag = magnitude(v);\n  let xcoord = v.xcoord / mag;\n  let ycoord = v.ycoord / mag;\n  let zcoord = v.zcoord / mag;\n  return makeVector(xcoord, ycoord, zcoord);\n} \n\nexport function crossProduct(u, v) {\n  //\n  // u X v = < u2*v3 - u3*v2,\n  //           u3*v1 - u1*v3,\n  //           u1*v2 - u2*v1 >\n  let xcoord = u.ycoord * v.zcoord - u.zcoord * v.ycoord;\n  let ycoord = u.zcoord * v.xcoord - u.xcoord * v.zcoord;\n  let zcoord = u.xcoord * v.ycoord - u.ycoord * v.xcoord;\n  return makeVector(xcoord, ycoord, zcoord);\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/mathUtils.js\n **/","import uuid from '../utils/uuid';\nimport StoreAdapter from './StoreAdapter';\n\n// StoreAdapter for working with localStorage\n// This is ideal for testing, examples, and prototyping\nexport default class LocalStoreAdapter extends StoreAdapter {\n  constructor() {\n    super({\n      getAnnotations(documentId, pageNumber) {\n        return new Promise((resolve, reject) => {\n          let annotations = getAnnotations(documentId).filter((i) => {\n            return i.page === pageNumber && i.class === 'Annotation';\n          });\n\n          resolve({\n            documentId,\n            pageNumber,\n            annotations\n          });\n        });\n      },\n\n      getAnnotation(documentId, annotationId) {\n        return Promise.resolve(getAnnotations(documentId)[findAnnotation(documentId, annotationId)]);\n      },\n\n      addAnnotation(documentId, pageNumber, annotation) {\n        return new Promise((resolve, reject) => {\n          annotation.class = 'Annotation';\n          annotation.uuid = uuid();\n          annotation.page = pageNumber;\n\n          let annotations = getAnnotations(documentId);\n          annotations.push(annotation);\n          updateAnnotations(documentId, annotations);\n\n          resolve(annotation);\n        });\n      },\n\n      editAnnotation(documentId, annotationId, annotation) {\n        return new Promise((resolve, reject) => {\n          let annotations = getAnnotations(documentId);\n          annotations[findAnnotation(documentId, annotationId)] = annotation;\n          updateAnnotations(documentId, annotations);\n\n          resolve(annotation);\n        });\n      },\n\n      deleteAnnotation(documentId, annotationId) {\n        return new Promise((resolve, reject) => {\n          let index = findAnnotation(documentId, annotationId);\n          if (index > -1) {\n            let annotations = getAnnotations(documentId);\n            annotations.splice(index, 1);\n            updateAnnotations(documentId, annotations);\n          }\n\n          resolve(true);\n        });\n      },\n\n      getComments(documentId, annotationId) {\n        return new Promise((resolve, reject) => {\n          resolve(getAnnotations(documentId).filter((i) => {\n            return i.class === 'Comment' && i.annotation === annotationId;\n          }));\n        });\n      },\n\n      addComment(documentId, annotationId, content) {\n        return new Promise((resolve, reject) => {\n          let comment = {\n            class: 'Comment',\n            uuid: uuid(),\n            annotation: annotationId,\n            content: content\n          };\n\n          let annotations = getAnnotations(documentId);\n          annotations.push(comment);\n          updateAnnotations(documentId, annotations);\n\n          resolve(comment);\n        });\n      },\n\n      deleteComment(documentId, commentId) {\n        return new Promise((resolve, reject) => {\n          getAnnotations(documentId);\n          let index = -1;\n          let annotations = getAnnotations(documentId);\n          for (let i=0, l=annotations.length; i<l; i++) {\n            if (annotations[i].uuid === commentId) {\n              index = i;\n              break;\n            }\n          }\n\n          if (index > -1) {\n            annotations.splice(index, 1);\n            updateAnnotations(documentId, annotations);\n          }\n\n          resolve(true);\n        });\n      }\n    });\n  }\n}\n\nfunction getAnnotations(documentId) {\n  return JSON.parse(localStorage.getItem(`${documentId}/annotations`)) || [];\n}\n\nfunction updateAnnotations(documentId, annotations) {\n  localStorage.setItem(`${documentId}/annotations`, JSON.stringify(annotations));\n}\n\nfunction findAnnotation(documentId, annotationId) {\n  let index = -1;\n  let annotations = getAnnotations(documentId);\n  for (let i=0, l=annotations.length; i<l; i++) {\n    if (annotations[i].uuid === annotationId) {\n      index = i;\n      break;\n    }\n  }\n  return index;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapter/LocalStoreAdapter.js\n **/","const REGEXP = /[xy]/g\nconst PATTERN = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\nfunction replacement(c) {\n  let r = Math.random()*16|0;\n  let v = c == 'x' ? r : (r&0x3|0x8);\n  return v.toString(16);\n}\n\n/**\n * Generate a univierally unique identifier\n *\n * @return {String}\n */\nexport default function uuid() {\n  return PATTERN.replace(REGEXP, replacement);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/uuid.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport { appendChild, transformChild } from './appendChild';\nimport renderScreenReaderHints from '../a11y/renderScreenReaderHints';\n\n/**\n * Render the response from PDFJSAnnotate.getStoreAdapter().getAnnotations to SVG\n *\n * @param {SVGElement} svg The SVG element to render the annotations to\n * @param {Object} viewport The page viewport data\n * @param {Object} data The response from PDFJSAnnotate.getStoreAdapter().getAnnotations\n * @return {Promise} Settled once rendering has completed\n *  A settled Promise will be either:\n *    - fulfilled: SVGElement\n *    - rejected: Error\n */\nexport default function render(svg, viewport, data) {\n  return new Promise((resolve, reject) => {\n    // Reset the content of the SVG\n    svg.setAttribute('data-pdf-annotate-container', true);\n    svg.setAttribute('data-pdf-annotate-viewport', JSON.stringify(viewport));\n    svg.removeAttribute('data-pdf-annotate-document');\n    svg.removeAttribute('data-pdf-annotate-page');\n\n    // If there's no data nothing can be done\n    if (!data) {\n      svg.innerHTML = ''; \n      return resolve(svg);\n    }\n\n    svg.setAttribute('data-pdf-annotate-document', data.documentId);\n    svg.setAttribute('data-pdf-annotate-page', data.pageNumber);\n  \n    // Make sure annotations is an array\n    if (!Array.isArray(data.annotations) || data.annotations.length === 0) {\n      return resolve(svg);\n    }\n\n    // Append or transform annotation to svg\n    data.annotations.forEach((a) => {\n      var node = svg.querySelector('[data-pdf-annotate-id=\"' + a.uuid + '\"]');\n      if (node) {\n        transformChild(svg, node, viewport);\n      } else {\n        appendChild(svg, a, viewport);\n      }\n    });\n\n    resolve(svg);\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/index.js\n **/","import insertScreenReaderHint from './insertScreenReaderHint';\nimport initEventHandlers from './initEventHandlers';\n\n// TODO This is not the right place for this to live\ninitEventHandlers();\n\n/**\n * Insert hints into the DOM for screen readers.\n *\n * @param {Array} annotations The annotations that hints are inserted for\n */\nexport default function renderScreenReaderHints(annotations) {\n  annotations = Array.isArray(annotations) ? annotations : [];\n\n  // Insert hints for each type\n  Object.keys(SORT_TYPES).forEach((type) => {\n    let sortBy = SORT_TYPES[type];\n    annotations\n      .filter((a) => a.type === type)\n      .sort(sortBy)\n      .forEach((a, i) => insertScreenReaderHint(a, i + 1));\n  });\n}\n\n// Sort annotations first by y, then by x.\n// This allows hints to be injected in the order they appear,\n// which makes numbering them easier.\nfunction sortByPoint(a, b) {\n  if (a.y < b.y) {\n    return a.x - b.x;\n  } else {\n    return 1;\n  }\n}\n\n// Sort annotation by it's first rectangle\nfunction sortByRectPoint(a, b) {\n  return sortByPoint(a.rectangles[0], b.rectangles[0]);\n}\n\n// Sort annotation by it's first line\nfunction sortByLinePoint(a, b) {\n  let lineA = a.lines[0];\n  let lineB = b.lines[0];\n  return sortByPoint(\n    {x: lineA[0], y: lineA[1]},\n    {x: lineB[0], y: lineB[1]}\n  );\n}\n\n// Arrange supported types and associated sort methods\nconst SORT_TYPES = {\n  'highlight': sortByRectPoint,\n  'strikeout': sortByRectPoint,\n  'drawing': sortByLinePoint,\n  'textbox': sortByPoint,\n  'point': sortByPoint,\n  'area': sortByPoint\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/renderScreenReaderHints.js\n **/","import createScreenReaderOnly from './createScreenReaderOnly';\nimport insertElementWithinChildren from './insertElementWithinChildren';\nimport insertElementWithinElement from './insertElementWithinElement';\nimport renderScreenReaderComments from './renderScreenReaderComments';\n\n// Annotation types that support comments\nconst COMMENT_TYPES = ['highlight', 'point', 'area','circle','emptycircle','fillcircle'];\n\n/**\n * Insert a hint into the DOM for screen readers for a specific annotation.\n *\n * @param {Object} annotation The annotation to insert a hint for\n * @param {Number} num The number of the annotation out of all annotations of the same type\n */\nexport default function insertScreenReaderHint(annotation, num = 0) {\n  switch (annotation.type) {\n    case 'highlight':\n    case 'strikeout':\n      let rects = annotation.rectangles;\n      let first = rects[0];\n      let last = rects[rects.length - 1];\n\n      insertElementWithinElement(\n        createScreenReaderOnly(`Begin ${annotation.type} annotation ${num}`, annotation.uuid),\n        first.x, first.y, annotation.page, true\n      );\n\n      insertElementWithinElement(\n        createScreenReaderOnly(`End ${annotation.type} annotation ${num}`, `${annotation.uuid}-end`),\n        last.x + last.width, last.y, annotation.page, false\n      );\n      break;\n\n    case 'textbox':\n    case 'point':\n      let text = annotation.type === 'textbox' ? ` (content: ${annotation.content})` : '';\n\n      insertElementWithinChildren(\n        createScreenReaderOnly(`${annotation.type} annotation ${num}${text}`, annotation.uuid),\n        annotation.x, annotation.y, annotation.page\n      );\n      break;\n\n    case 'drawing':\n    case 'area':\n      let x = typeof annotation.x !== 'undefined' ? annotation.x : annotation.lines[0][0];\n      let y = typeof annotation.y !== 'undefined' ? annotation.y : annotation.lines[0][1];\n\n      insertElementWithinChildren(\n        createScreenReaderOnly(`Unlabeled drawing`, annotation.uuid),\n        x, y, annotation.page\n      );\n      break;\n\n    case 'circle':\n    case 'fillcircle':\n    case 'emptycircle':\n      let x2 = typeof annotation.cx !== 'undefined' ? annotation.cx : annotation.lines[0][0];\n      let y2 = typeof annotation.cy !== 'undefined' ? annotation.cy : annotation.lines[0][1];\n\n      insertElementWithinChildren(\n        createScreenReaderOnly(`Unlabeled drawing`, annotation.uuid),\n        x2, y2, annotation.page\n      );\n      break;\n  }\n\n  // Include comments in screen reader hint\n  if (COMMENT_TYPES.includes(annotation.type)) {\n    renderScreenReaderComments(annotation.documentId, annotation.uuid);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/insertScreenReaderHint.js\n **/","/**\n * Create a node that is only visible to screen readers\n *\n * @param {String} content The text content that should be read by screen reader\n * @param {String} [annotationId] The ID of the annotation assocaited\n * @return {Element} An Element that is only visible to screen readers\n */\nexport default function createScreenReaderOnly(content, annotationId) {\n  let node = document.createElement('div');\n  let text = document.createTextNode(content);\n  node.appendChild(text);\n  node.setAttribute('id', `pdf-annotate-screenreader-${annotationId}`);\n  node.style.position = 'absolute';\n  node.style.left = '-10000px';\n  node.style.top = 'auto';\n  node.style.width = '1px';\n  node.style.height = '1px';\n  node.style.overflow = 'hidden';\n  return node;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/createScreenReaderOnly.js\n **/","import config from '../config';\nimport insertElementWithinElement from './insertElementWithinElement';\nimport { pointIntersectsRect } from '../UI/utils';\nimport { scaleUp } from '../UI/utils'; \n\n/**\n * Insert an element at a point within the document.\n * This algorithm will try to insert between elements if possible.\n * It will however use `insertElementWithinElement` if it is more accurate.\n *\n * @param {Element} el The element to be inserted\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Number} pageNumber The page number to limit elements to\n * @return {Boolean} True if element was able to be inserted, otherwise false\n */\nexport default function insertElementWithinChildren(el, x, y, pageNumber) {\n  // Try and use most accurate method of inserting within an element\n  if (insertElementWithinElement(el, x, y, pageNumber, true)) {\n    return true;\n  }\n\n  // Fall back to inserting between elements\n  let svg = document.querySelector(`svg[data-pdf-annotate-page=\"${pageNumber}\"]`);\n  let rect = svg.getBoundingClientRect();\n  let nodes = [...svg.parentNode.querySelectorAll(config.textClassQuery() + ' > div')];\n\n  y = scaleUp(svg, {y}).y + rect.top;\n  x = scaleUp(svg, {x}).x + rect.left;\n\n  // Find the best node to insert before\n  for (let i=0, l=nodes.length; i<l; i++) {\n    let n = nodes[i];\n    let r = n.getBoundingClientRect();\n    if (y <= r.top) {\n      n.parentNode.insertBefore(el, n);\n      return true;\n    }\n  }\n\n  // If all else fails try to append to the bottom\n  let textLayer = svg.parentNode.querySelector(config.textClassQuery());\n  if (textLayer) {\n    let textRect = textLayer.getBoundingClientRect();\n    if (pointIntersectsRect(x, y, textRect)) {\n      textLayer.appendChild(el);\n      return true;\n    }\n  }\n\n  return false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/insertElementWithinChildren.js\n **/","export default {\n    annotationLayerName: 'annotationLayer',\n    textLayerName: 'textLayer',\n    annotationSvgQuery: function () {\n        return 'svg.' + this.annotationLayerName;\n    },\n    annotationClassQuery: function () {\n        return '.' + this.annotationLayerName;\n    },\n    textClassQuery: function () {\n        return '.' + this.textLayerName;\n    }    \n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/config.js\n **/","import config from '../config'\nimport {\n  pointIntersectsRect,\n  scaleUp,\n  scaleDown\n} from '../UI/utils'; \n\n/**\n * Insert an element at a point within the document.\n * This algorithm will only insert within an element amidst it's text content.\n *\n * @param {Element} el The element to be inserted\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Number} pageNumber The page number to limit elements to\n * @param {Boolean} insertBefore Whether the element is to be inserted before or after x\n * @return {Boolean} True if element was able to be inserted, otherwise false\n */\nexport default function insertElementWithinElement(el, x, y, pageNumber, insertBefore) {\n  const OFFSET_ADJUST = 2;\n\n  // If inserting before adjust `x` by looking for element a few px to the right\n  // Otherwise adjust a few px to the left\n  // This is to allow a little tolerance by searching within the box, instead\n  // of getting a false negative by testing right on the border.\n  x = Math.max(x + (OFFSET_ADJUST * (insertBefore ? 1 : -1)), 0);\n\n  let node = textLayerElementFromPoint(x, y + OFFSET_ADJUST, pageNumber);\n  if (!node) {\n    return false;\n  }\n  \n  // Now that node has been found inverse the adjustment for `x`.\n  // This is done to accomodate tolerance by cutting off on the outside of the\n  // text boundary, instead of missing a character by cutting off within.\n  x = x + (OFFSET_ADJUST * (insertBefore ? -1 : 1));\n\n  let svg = document.querySelector(`svg[data-pdf-annotate-page=\"${pageNumber}\"]`);\n  let left = scaleDown(svg, {left: node.getBoundingClientRect().left}).left - svg.getBoundingClientRect().left;\n  let temp = node.cloneNode(true);\n  let head = temp.innerHTML.split('');\n  let tail = [];\n\n  // Insert temp off screen\n  temp.style.position = 'absolute';\n  temp.style.top = '-10000px';\n  temp.style.left = '-10000px';\n  document.body.appendChild(temp);\n\n  while (head.length) {\n    // Don't insert within HTML tags\n    if (head[head.length - 1] === '>') {\n      while(head.length) {\n        tail.unshift(head.pop());\n        if (tail[0] === '<') {\n          break;\n        }\n      }\n    }\n    \n    // Check if width of temp based on current head value satisfies x\n    temp.innerHTML = head.join('');\n    let width = scaleDown(svg, {width: temp.getBoundingClientRect().width}).width;\n    if (left + width <= x) {\n      break;\n    }\n    tail.unshift(head.pop());\n  }\n  \n  // Update original node with new markup, including element to be inserted\n  node.innerHTML = head.join('') + el.outerHTML + tail.join('');\n  temp.parentNode.removeChild(temp);\n\n  return true;\n}\n\n/**\n * Get a text layer element at a given point on a page\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Number} pageNumber The page to limit elements to\n * @return {Element} First text layer element found at the point\n */\nfunction textLayerElementFromPoint(x, y, pageNumber) {\n  let svg = document.querySelector(`svg[data-pdf-annotate-page=\"${pageNumber}\"]`);\n  let rect = svg.getBoundingClientRect();\n  y = scaleUp(svg, {y}).y + rect.top;\n  x = scaleUp(svg, {x}).x + rect.left;\n  return [...svg.parentNode.querySelectorAll(config.textClassQuery() + ' [data-canvas-width]')].filter((el) => {\n    return pointIntersectsRect(x, y, el.getBoundingClientRect());\n  })[0];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/insertElementWithinElement.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport insertScreenReaderComment from './insertScreenReaderComment';\n\n/**\n * Insert the comments into the DOM to be available by screen reader\n *\n * Example output:\n *   <div class=\"screenReaderOnly\">\n *    <div>Begin highlight 1</div>\n *    <ol aria-label=\"Comments\">\n *      <li>Foo</li>\n *      <li>Bar</li>\n *      <li>Baz</li>\n *      <li>Qux</li>\n *    </ol>\n *  </div>\n *  <div>Some highlighted text goes here...</div>\n *  <div class=\"screenReaderOnly\">End highlight 1</div>\n *\n * NOTE: `screenReaderOnly` is not a real class, just used for brevity\n *\n * @param {String} documentId The ID of the document\n * @param {String} annotationId The ID of the annotation\n * @param {Array} [comments] Optionally preloaded comments to be rendered\n * @return {Promise}\n */\nexport default function renderScreenReaderComments(documentId, annotationId, comments) {\n  let promise;\n\n  if (Array.isArray(comments)) {\n    promise = Promise.resolve(comments);\n  } else {\n    promise = PDFJSAnnotate.getStoreAdapter().getComments(documentId, annotationId);\n  }\n\n  return promise.then((comments) => {\n    // Node needs to be found by querying DOM as it may have been inserted as innerHTML\n    // leaving `screenReaderNode` as an invalid reference (see `insertElementWithinElement`).\n    let node = document.getElementById(`pdf-annotate-screenreader-${annotationId}`);\n    if (node) { \n      let list = document.createElement('ol');\n      list.setAttribute('id', `pdf-annotate-screenreader-comment-list-${annotationId}`);\n      list.setAttribute('aria-label', 'Comments');\n      node.appendChild(list);\n      comments.forEach(insertScreenReaderComment);\n    }\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/renderScreenReaderComments.js\n **/","/**\n * Insert a comment into the DOM to be available by screen reader\n *\n * @param {Object} comment The comment to be inserted\n */\nexport default function insertScreenReaderComment(comment) {\n  if (!comment) {\n    return;\n  }\n\n  let list = document.querySelector(`#pdf-annotate-screenreader-${comment.annotation} ol`);\n  if (list) {\n    let item = document.createElement('li');\n    item.setAttribute('id', `pdf-annotate-screenreader-comment-${comment.uuid}`);\n    item.appendChild(document.createTextNode(`${comment.content}`));\n    list.appendChild(item);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/insertScreenReaderComment.js\n **/","import insertScreenReaderHint from './insertScreenReaderHint';\nimport renderScreenReaderHints from './renderScreenReaderHints';\nimport insertScreenReaderComment from './insertScreenReaderComment';\nimport renderScreenReaderComments from './renderScreenReaderComments';\nimport { addEventListener } from '../UI/event';\nimport PDFJSAnnotate from '../PDFJSAnnotate';\n\n/**\n * Initialize the event handlers for keeping screen reader hints synced with data\n */\nexport default function initEventHandlers() {\n  addEventListener('annotation:add', (documentId, pageNumber, annotation) => {\n    reorderAnnotationsByType(documentId, pageNumber, annotation.type);\n  });\n  addEventListener('annotation:edit', (documentId, annotationId, annotation) => {\n    reorderAnnotationsByType(documentId, annotation.page, annotation.type);\n  });\n  addEventListener('annotation:delete', removeAnnotation);\n  addEventListener('comment:add', insertComment);\n  addEventListener('comment:delete', removeComment);\n}\n\n/**\n * Reorder the annotation numbers by annotation type\n *\n * @param {String} documentId The ID of the document\n * @param {Number} pageNumber The page number of the annotations\n * @param {Strig} type The annotation type\n */\nfunction reorderAnnotationsByType(documentId, pageNumber, type) {\n  PDFJSAnnotate.getStoreAdapter().getAnnotations(documentId, pageNumber)\n    .then((annotations) => {\n      return annotations.annotations.filter((a) => {\n        return a.type === type;\n      });\n    })\n    .then((annotations) => {\n      annotations.forEach((a) => {\n        removeAnnotation(documentId, a.uuid);\n      });\n\n      return annotations;\n    })\n    .then(renderScreenReaderHints);\n}\n\n/**\n * Remove the screen reader hint for an annotation\n *\n * @param {String} documentId The ID of the document\n * @param {String} annotationId The Id of the annotation\n */\nfunction removeAnnotation(documentId, annotationId) {\n  removeElementById(`pdf-annotate-screenreader-${annotationId}`);\n  removeElementById(`pdf-annotate-screenreader-${annotationId}-end`);\n}\n\n/**\n * Insert a screen reader hint for a comment\n *\n * @param {String} documentId The ID of the document\n * @param {String} annotationId The ID of tha assocated annotation\n * @param {Object} comment The comment to insert a hint for\n */\nfunction insertComment(documentId, annotationId, comment) {\n  let list = document.querySelector(`pdf-annotate-screenreader-comment-list-${annotationId}`);\n  let promise;\n\n  if (!list) {\n    promise = renderScreenReaderComments(documentId, annotationId, []).then(() => {\n      list = document.querySelector(`pdf-annotate-screenreader-comment-list-${annotationId}`);\n      return true;\n    });\n  } else {\n    promise = Promise.resolve(true);\n  }\n\n  promise.then(() => {\n    insertScreenReaderComment(comment);\n  });\n}\n\n/**\n * Remove a screen reader hint for a comment\n *\n * @param {String} documentId The ID of the document\n * @param {String} commentId The ID of the comment\n */\nfunction removeComment(documentId, commentId) {\n  removeElementById(`pdf-annotate-screenreader-comment-${commentId}`);\n}\n\n/**\n * Remove an element from the DOM by it's ID if it exists\n *\n * @param {String} elementID The ID of the element to be removed\n */\nfunction removeElementById(elementId) {\n  let el = document.getElementById(elementId);\n  if (el) {\n    el.parentNode.removeChild(el);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/a11y/initEventHandlers.js\n **/","import { addEventListener, removeEventListener, fireEvent } from './event';\nimport { disableEdit, enableEdit } from './edit';\nimport { disablePen, enablePen, setPen } from './pen';\nimport { disableArrow, enableArrow, setArrow } from './arrow';\nimport { disablePoint, enablePoint } from './point';\nimport { disableRect, enableRect } from './rect';\nimport { disableCircle, enableCircle, setCircle, addCircle } from './circle';\nimport { disableText, enableText, setText } from './text';\nimport { createPage, renderPage } from './page';\n\nexport default {\n  addEventListener, removeEventListener, fireEvent,\n  disableEdit, enableEdit,\n  disablePen, enablePen, setPen,\n  disablePoint, enablePoint,\n  disableRect, enableRect,\n  disableCircle, enableCircle, setCircle, addCircle,\n  disableArrow, enableArrow, setArrow,\n  disableText, enableText, setText,\n  createPage, renderPage\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/index.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport config from '../config';\nimport { appendChild } from '../render/appendChild';\nimport {\n  addEventListener,\n  removeEventListener\n} from './event';\nimport {\n  BORDER_COLOR,\n  disableUserSelect,\n  enableUserSelect,\n  findSVGContainer,\n  findSVGAtPoint,\n  getOffsetAnnotationRect,\n  getMetadata,\n  scaleUp,\n  convertToSvgPoint\n} from './utils';\n\nlet _enabled = false;\nlet isDragging = false, overlay;\nlet dragOffsetX, dragOffsetY, dragStartX, dragStartY;\nconst OVERLAY_BORDER_SIZE = 3;\n\n/**\n * Create an overlay for editing an annotation.\n *\n * @param {Element} target The annotation element to apply overlay for\n */\nfunction createEditOverlay(target) {\n  destroyEditOverlay();\n\n  overlay = document.createElement('div');\n  let anchor = document.createElement('a');\n  let parentNode = findSVGContainer(target).parentNode;\n  let id = target.getAttribute('data-pdf-annotate-id');\n  let rect = getOffsetAnnotationRect(target);\n  let styleLeft = rect.left - OVERLAY_BORDER_SIZE;\n  let styleTop = rect.top - OVERLAY_BORDER_SIZE;\n  \n  overlay.setAttribute('id', 'pdf-annotate-edit-overlay');\n  overlay.setAttribute('data-target-id', id);\n  overlay.style.boxSizing = 'content-box';\n  overlay.style.position = 'absolute';\n  overlay.style.top = `${styleTop}px`;\n  overlay.style.left = `${styleLeft}px`;\n  overlay.style.width = `${rect.width}px`;\n  overlay.style.height = `${rect.height}px`;\n  overlay.style.border = `${OVERLAY_BORDER_SIZE}px solid ${BORDER_COLOR}`;\n  overlay.style.borderRadius = `${OVERLAY_BORDER_SIZE}px`;\n  overlay.style.zIndex = 20100;\n\n  anchor.innerHTML = '';\n  anchor.setAttribute('href', 'javascript://');\n  anchor.style.background = '#fff';\n  anchor.style.borderRadius = '20px';\n  anchor.style.border = '1px solid #bbb';\n  anchor.style.color = '#bbb';\n  anchor.style.fontSize = '16px';\n  anchor.style.padding = '2px';\n  anchor.style.textAlign = 'center';\n  anchor.style.textDecoration = 'none';\n  anchor.style.position = 'absolute';\n  anchor.style.top = '-13px';\n  anchor.style.right = '-13px';\n  anchor.style.width = '25px';\n  anchor.style.height = '25px';\n  \n  overlay.appendChild(anchor);\n  parentNode.appendChild(overlay);\n  document.addEventListener('click', handleDocumentClick);\n  document.addEventListener('keyup', handleDocumentKeyup);\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  anchor.addEventListener('click', deleteAnnotation);\n  anchor.addEventListener('mouseover', () => {\n    anchor.style.color = '#35A4DC';\n    anchor.style.borderColor = '#999';\n    anchor.style.boxShadow = '0 1px 1px #ccc';\n  });\n  anchor.addEventListener('mouseout', () => {\n    anchor.style.color = '#bbb';\n    anchor.style.borderColor = '#bbb';\n    anchor.style.boxShadow = '';\n  });\n  overlay.addEventListener('mouseover', () => {\n    if (!isDragging) { anchor.style.display = ''; }\n  });\n  overlay.addEventListener('mouseout', () => {\n    anchor.style.display = 'none';\n  });\n}\n\n/**\n * Destroy the edit overlay if it exists.\n */\nfunction destroyEditOverlay() {\n  if (overlay) {\n    overlay.parentNode.removeChild(overlay);\n    overlay = null;\n  }\n\n  document.removeEventListener('click', handleDocumentClick);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n  enableUserSelect();\n}\n\n/**\n * Delete currently selected annotation\n */\nfunction deleteAnnotation() {\n  if (!overlay) { return; }\n\n  let annotationId = overlay.getAttribute('data-target-id');\n  let nodes = document.querySelectorAll(`[data-pdf-annotate-id=\"${annotationId}\"]`);\n  let svg = overlay.parentNode.querySelector(config.annotationSvgQuery());\n  let { documentId } = getMetadata(svg);\n\n  [...nodes].forEach((n) => {\n    n.parentNode.removeChild(n);\n  });\n  \n  PDFJSAnnotate.getStoreAdapter().deleteAnnotation(documentId, annotationId);\n\n  destroyEditOverlay();\n}\n\n/**\n * Handle document.click event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentClick(e) {\n  if (!findSVGAtPoint(e.clientX, e.clientY)) { return; }\n\n  // Remove current overlay\n  let overlay = document.getElementById('pdf-annotate-edit-overlay');\n  if (overlay) {\n    if (isDragging || e.target === overlay) {\n      return;\n    }\n\n    destroyEditOverlay();\n  }\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentKeyup(e) {\n  if (overlay && e.keyCode === 46 &&\n      e.target.nodeName.toLowerCase() !== 'textarea' &&\n      e.target.nodeName.toLowerCase() !== 'input') {\n    deleteAnnotation();\n  }\n}\n\n/**\n * Handle document.mousedown event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentMousedown(e) {\n  if (e.target !== overlay) { return; }\n\n  // Highlight and strikeout annotations are bound to text within the document.\n  // It doesn't make sense to allow repositioning these types of annotations.\n  let annotationId = overlay.getAttribute('data-target-id');\n  let target = document.querySelector(`[data-pdf-annotate-id=\"${annotationId}\"]`);\n  let type = target.getAttribute('data-pdf-annotate-type');\n\n  if (type === 'highlight' || type === 'strikeout') { return; }\n\n  isDragging = true;\n  dragOffsetX = e.clientX;\n  dragOffsetY = e.clientY;\n  dragStartX = overlay.offsetLeft;\n  dragStartY = overlay.offsetTop;\n\n  overlay.style.background = 'rgba(255, 255, 255, 0.7)';\n  overlay.style.cursor = 'move';\n  overlay.querySelector('a').style.display = 'none';\n\n  document.addEventListener('mousemove', handleDocumentMousemove);\n  document.addEventListener('mouseup', handleDocumentMouseup);\n  disableUserSelect();\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentMousemove(e) {\n  let annotationId = overlay.getAttribute('data-target-id');\n  let parentNode = overlay.parentNode;\n  let rect = parentNode.getBoundingClientRect();\n  let y = (dragStartY + (e.clientY - dragOffsetY));\n  let x = (dragStartX + (e.clientX - dragOffsetX));\n  let minY = 0;\n  let maxY = rect.height;\n  let minX = 0;\n  let maxX = rect.width;\n\n  if (y > minY && y + overlay.offsetHeight < maxY) {\n    overlay.style.top = `${y}px`;\n  }\n\n  if (x > minX && x + overlay.offsetWidth < maxX) {\n    overlay.style.left = `${x}px`;\n  }\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentMouseup(e) {\n  let annotationId = overlay.getAttribute('data-target-id');\n  let target = document.querySelectorAll(`[data-pdf-annotate-id=\"${annotationId}\"]`);\n  let type = target[0].getAttribute('data-pdf-annotate-type');\n  let svg = overlay.parentNode.querySelector(config.annotationSvgQuery());\n  let { documentId } = getMetadata(svg);\n  \n  overlay.querySelector('a').style.display = '';\n\n  PDFJSAnnotate.getStoreAdapter().getAnnotation(documentId, annotationId).then((annotation) => {\n    let attribX = 'x';\n    let attribY = 'y';\n    if (['circle', 'fillcircle', 'emptycircle'].indexOf(type) > -1) {\n      attribX = 'cx';\n      attribY = 'cy';\n    }\n    if (['area', 'highlight', 'point', 'textbox', 'circle', 'fillcircle', 'emptycircle'].indexOf(type) > -1) {\n      let modelStart = convertToSvgPoint([dragStartX, dragStartY], svg);\n      let modelEnd = convertToSvgPoint([overlay.offsetLeft, overlay.offsetTop], svg);\n      let modelDelta = {\n        x: modelEnd[0] - modelStart[0],\n        y: modelEnd[1] - modelStart[1]\n      };\n\n      if (type === 'textbox') {\n        target = [target[0].firstChild];\n      }\n\n      [...target].forEach((t, i) => {\n        let modelX = parseInt(t.getAttribute(attribX), 10);\n        let modelY = parseInt(t.getAttribute(attribY), 10);\n        if (modelDelta.y !== 0) {\n          modelY = modelY + modelDelta.y;\n          let viewY = modelY;\n\n          if (type === 'point') {\n            viewY = scaleUp(svg, { viewY }).viewY;\n          }\n\n          t.setAttribute(attribY, viewY);\n          if (annotation.rectangles && i < annotation.rectangles.length) {\n            annotation.rectangles[i].y = modelY;\n          } else if (annotation[attribY]) {\n            annotation[attribY] = modelY;\n          }\n        }\n        if (modelDelta.x !== 0) {\n          modelX = modelX + modelDelta.x;\n          let viewX = modelX;\n\n          if (type === 'point') {\n            viewX = scaleUp(svg, { viewX }).viewX;\n          }\n\n          t.setAttribute(attribX, viewX);\n          if (annotation.rectangles  && i < annotation.rectangles.length) {\n            annotation.rectangles[i].x = modelX;\n          } else if (annotation[attribX]) {\n            annotation[attribX] = modelX;\n          }\n        }\n      });\n    // } else if (type === 'strikeout') {\n    //   let { deltaX, deltaY } = getDelta('x1', 'y1');\n    //   [...target].forEach(target, (t, i) => {\n    //     if (deltaY !== 0) {\n    //       t.setAttribute('y1', parseInt(t.getAttribute('y1'), 10) + deltaY);\n    //       t.setAttribute('y2', parseInt(t.getAttribute('y2'), 10) + deltaY);\n    //       annotation.rectangles[i].y = parseInt(t.getAttribute('y1'), 10);\n    //     }\n    //     if (deltaX !== 0) {\n    //       t.setAttribute('x1', parseInt(t.getAttribute('x1'), 10) + deltaX);\n    //       t.setAttribute('x2', parseInt(t.getAttribute('x2'), 10) + deltaX);\n    //       annotation.rectangles[i].x = parseInt(t.getAttribute('x1'), 10);\n    //     }\n    //   });\n    } else if (type === 'drawing' || type === 'arrow') {\n      let modelStart = convertToSvgPoint([dragStartX, dragStartY], svg);\n      let modelEnd = convertToSvgPoint([overlay.offsetLeft, overlay.offsetTop], svg);\n      let modelDelta = {\n        x: modelEnd[0] - modelStart[0],\n        y: modelEnd[1] - modelStart[1]\n      };\n\n      annotation.lines.forEach((line, i) => {\n        let [x, y] = annotation.lines[i];\n        annotation.lines[i][0] = x + modelDelta.x;\n        annotation.lines[i][1] = y + modelDelta.y;\n      });\n\n      target[0].parentNode.removeChild(target[0]);\n      appendChild(svg, annotation);\n    } \n\n    PDFJSAnnotate.getStoreAdapter().editAnnotation(documentId, annotationId, annotation);\n  });\n\n  setTimeout(() => {\n    isDragging = false;\n  }, 0);\n\n  overlay.style.background = '';\n  overlay.style.cursor = '';\n\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n  enableUserSelect();\n}\n\n/**\n * Handle annotation.click event\n *\n * @param {Element} e The annotation element that was clicked\n */\nfunction handleAnnotationClick(target) {\n  createEditOverlay(target);\n}\n\n/**\n * Enable edit mode behavior.\n */\nexport function enableEdit () {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  addEventListener('annotation:click', handleAnnotationClick);\n};\n\n/**\n * Disable edit mode behavior.\n */\nexport function disableEdit () {\n  destroyEditOverlay();\n\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  removeEventListener('annotation:click', handleAnnotationClick);\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/edit.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport { appendChild } from '../render/appendChild';\nimport {\n  disableUserSelect,\n  enableUserSelect,\n  findSVGAtPoint,\n  getMetadata,\n  convertToSvgPoint\n} from './utils';\n\nlet _enabled = false;\nlet _penSize;\nlet _penColor;\nlet path;\nlet lines;\n\n/**\n * Handle document.mousedown event\n */\nfunction handleDocumentMousedown() {\n  path = null;\n  lines = [];\n\n  document.addEventListener('mousemove', handleDocumentMousemove);\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentMouseup(e) {\n  let svg;\n  if (lines.length > 1 && (svg = findSVGAtPoint(e.clientX, e.clientY))) {\n    let { documentId, pageNumber } = getMetadata(svg);\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, {\n        type: 'drawing',\n        width: _penSize,\n        color: _penColor,\n        lines\n      }\n    ).then((annotation) => {\n      if (path) {\n        svg.removeChild(path);\n      }\n\n      appendChild(svg, annotation);\n    });\n  }\n\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentMousemove(e) {\n  savePoint(e.clientX, e.clientY);\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentKeyup(e) {\n  // Cancel rect if Esc is pressed\n  if (e.keyCode === 27) {\n    lines = null;\n    path.parentNode.removeChild(path);\n    document.removeEventListener('mousemove', handleDocumentMousemove);\n    document.removeEventListener('mouseup', handleDocumentMouseup);\n  }\n}\n\n/**\n * Save a point to the line being drawn.\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n */\nfunction savePoint(x, y) {\n  let svg = findSVGAtPoint(x, y);\n  if (!svg) {\n    return;\n  }\n\n  let rect = svg.getBoundingClientRect();\n  let point = convertToSvgPoint([\n    x - rect.left,\n    y - rect.top\n  ], svg);\n\n  lines.push(point);\n\n  if (lines.length <= 1) {\n    return;\n  }\n\n  if (path) {\n    svg.removeChild(path);\n  }\n\n  path = appendChild(svg, {\n    type: 'drawing',\n    color: _penColor,\n    width: _penSize,\n    lines\n  });\n}\n\n/**\n * Set the attributes of the pen.\n *\n * @param {Number} penSize The size of the lines drawn by the pen\n * @param {String} penColor The color of the lines drawn by the pen\n */\nexport function setPen(penSize = 1, penColor = '000000') {\n  _penSize = parseInt(penSize, 10);\n  _penColor = penColor;\n}\n\n/**\n * Enable the pen behavior\n */\nexport function enablePen() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  document.addEventListener('keyup', handleDocumentKeyup);\n  disableUserSelect();\n}\n\n/**\n * Disable the pen behavior\n */\nexport function disablePen() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n  enableUserSelect();\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/pen.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport { appendChild } from '../render/appendChild';\nimport {\n  disableUserSelect,\n  enableUserSelect,\n  findSVGAtPoint,\n  findSVGContainer,\n  getMetadata,\n  convertToSvgPoint,\n  convertToScreenPoint,\n  findAnnotationAtPoint\n} from './utils';\n\nlet _enabled = false;\nlet _penSize;\nlet _penColor;\nlet path;\nlet lines;\nlet originY;\nlet originX;\n\n/**\n * Handle document.mousedown event\n */\nfunction handleDocumentMousedown(e) {\n  let target = findAnnotationAtPoint(e.clientX, e.clientY);\n  if (target === null)\n    return;\n\n  let type = target.getAttribute('data-pdf-annotate-type');\n  if (type !== 'circle' && type !== 'fillcircle' && type !== 'emptycircle') {\n    return;\n  }\n\n  let svg = findSVGContainer(target);\n  let { documentId } = getMetadata(svg);\n  let annotationId = target.getAttribute('data-pdf-annotate-id');\n\n  let event = e;\n  PDFJSAnnotate.getStoreAdapter().getAnnotation(documentId, annotationId).then((annotation) => {\n    if (annotation) {\n      path = null;\n      lines = [];\n\n      let point = convertToScreenPoint([\n        annotation.cx,\n        annotation.cy\n      ], svg);\n\n      let rect = svg.getBoundingClientRect();\n\n      originX = point[0] + rect.left;\n      originY = point[1] + rect.top;    \n\n      document.addEventListener('mousemove', handleDocumentMousemove);\n      document.addEventListener('mouseup', handleDocumentMouseup);\n    }\n  });\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentMouseup(e) {\n  let svg;\n  if (lines.length > 1 && (svg = findSVGAtPoint(e.clientX, e.clientY))) {\n    let { documentId, pageNumber } = getMetadata(svg);\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, {\n        type: 'arrow',\n        width: _penSize,\n        color: _penColor,\n        lines\n      }\n    ).then((annotation) => {\n      if (path) {\n        svg.removeChild(path);\n      }\n\n      appendChild(svg, annotation);\n    });\n  }\n\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentMousemove(e) {\n  let x = lines.length === 0 ? originX : e.clientX;\n  let y = lines.length === 0 ? originY : e.clientY;\n\n  savePoint(x, y);\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentKeyup(e) {\n  // Cancel rect if Esc is pressed\n  if (e.keyCode === 27) {\n    lines = null;\n    path.parentNode.removeChild(path);\n    document.removeEventListener('mousemove', handleDocumentMousemove);\n    document.removeEventListener('mouseup', handleDocumentMouseup);\n  }\n}\n\n/**\n * Save a point to the line being drawn.\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n */\nfunction savePoint(x, y) {\n  let svg = findSVGAtPoint(x, y);\n  if (!svg) {\n    return;\n  }\n\n  let rect = svg.getBoundingClientRect();\n  let point = convertToSvgPoint([\n    x - rect.left,\n    y - rect.top\n  ], svg);\n\n  if (lines.length < 2) {\n    lines.push(point);\n    return;\n  } else {\n    lines[1] = point; // update end point\n  }\n\n  if (path) {\n    svg.removeChild(path);\n  }\n\n  path = appendChild(svg, {\n    type: 'arrow',\n    color: _penColor,\n    width: _penSize,\n    lines\n  });\n}\n\n/**\n * Set the attributes of the pen.\n *\n * @param {Number} penSize The size of the lines drawn by the pen\n * @param {String} penColor The color of the lines drawn by the pen\n */\nexport function setArrow(penSize = 10, penColor = '0000FF') {\n  _penSize = parseInt(penSize, 10);\n  _penColor = penColor;\n}\n\n/**\n * Enable the pen behavior\n */\nexport function enableArrow() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  document.addEventListener('keyup', handleDocumentKeyup);\n  disableUserSelect();\n}\n\n/**\n * Disable the pen behavior\n */\nexport function disableArrow() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n  enableUserSelect();\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/arrow.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport { appendChild } from '../render/appendChild';\nimport {\n  BORDER_COLOR,\n  findSVGAtPoint,\n  getMetadata,\n  scaleDown\n} from './utils';\n\nlet _enabled = false;\nlet input;\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} The DOM event to be handled\n */\nfunction handleDocumentMouseup(e) {\n  if (input || !findSVGAtPoint(e.clientX, e.clientY)) {\n    return\n  }\n  \n  input = document.createElement('input');\n  input.setAttribute('id', 'pdf-annotate-point-input');\n  input.setAttribute('placeholder', 'Enter comment');\n  input.style.border = `3px solid ${BORDER_COLOR}`;\n  input.style.borderRadius = '3px';\n  input.style.position = 'absolute';\n  input.style.top = `${e.clientY}px`;\n  input.style.left = `${e.clientX}px`;\n\n  input.addEventListener('blur', handleInputBlur);\n  input.addEventListener('keyup', handleInputKeyup);\n\n  document.body.appendChild(input);\n  input.focus();\n}\n\n/**\n * Handle input.blur event\n */\nfunction handleInputBlur() {\n  savePoint();\n}\n\n/**\n * Handle input.keyup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleInputKeyup(e) {\n  if (e.keyCode === 27) {\n    closeInput();\n  } else if (e.keyCode === 13) {\n    savePoint();\n  }\n}\n\n/**\n * Save a new point annotation from input\n */\nfunction savePoint() {\n  if (input.value.trim().length > 0) {\n    let clientX = parseInt(input.style.left, 10);\n    let clientY = parseInt(input.style.top, 10);\n    let content = input.value.trim();\n    let svg = findSVGAtPoint(clientX, clientY);\n    if (!svg) {\n      return;\n    }\n\n    let rect = svg.getBoundingClientRect();\n    let { documentId, pageNumber } = getMetadata(svg);\n    let annotation = Object.assign({\n        type: 'point'\n      }, scaleDown(svg, {\n        x: clientX - rect.left,\n        y: clientY - rect.top\n      })\n    );\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n      .then((annotation) => {\n        PDFJSAnnotate.getStoreAdapter().addComment(\n          documentId,\n          annotation.uuid,\n          content\n        );\n\n        appendChild(svg, annotation);\n      });\n  }\n\n  closeInput();\n}\n\n/**\n * Close the input element\n */\nfunction closeInput() {\n  input.removeEventListener('blur', handleInputBlur);\n  input.removeEventListener('keyup', handleInputKeyup);\n  document.body.removeChild(input);\n  input = null;\n}\n\n/**\n * Enable point annotation behavior\n */\nexport function enablePoint() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Disable point annotation behavior\n */\nexport function disablePoint() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/point.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport config from '../config';\nimport { appendChild } from '../render/appendChild';\nimport {\n  BORDER_COLOR,\n  disableUserSelect,\n  enableUserSelect,\n  findSVGAtPoint,\n  getMetadata,\n  convertToSvgRect\n} from './utils';\n\nlet _enabled = false;\nlet _type;\nlet overlay;\nlet originY;\nlet originX;\n\n/**\n * Get the current window selection as rects\n *\n * @return {Array} An Array of rects\n */\nfunction getSelectionRects() {\n  try {\n    let selection = window.getSelection();\n    let range = selection.getRangeAt(0);\n    let rects = range.getClientRects();\n\n    if (rects.length > 0 &&\n        rects[0].width > 0 &&\n        rects[0].height > 0) {\n      return rects;\n    }\n  } catch (e) {}\n  \n  return null;\n}\n\n/**\n * Handle document.mousedown event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMousedown(e) {\n  let svg;\n  if (_type !== 'area' || !(svg = findSVGAtPoint(e.clientX, e.clientY))) {\n    return;\n  }\n\n  let rect = svg.getBoundingClientRect();\n  originY = e.clientY;\n  originX = e.clientX;\n\n  overlay = document.createElement('div');\n  overlay.style.position = 'absolute';\n  overlay.style.top = `${originY - rect.top}px`;\n  overlay.style.left = `${originX - rect.left}px`;\n  overlay.style.border = `3px solid ${BORDER_COLOR}`;\n  overlay.style.borderRadius = '3px';\n  svg.parentNode.appendChild(overlay);\n  \n  document.addEventListener('mousemove', handleDocumentMousemove);\n  disableUserSelect();\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMousemove(e) {\n  let svg = overlay.parentNode.querySelector(config.annotationSvgQuery());\n  let rect = svg.getBoundingClientRect();\n\n  if (originX + (e.clientX - originX) < rect.right) {\n    overlay.style.width = `${e.clientX - originX}px`;\n  }\n\n  if (originY + (e.clientY - originY) < rect.bottom) {\n    overlay.style.height = `${e.clientY - originY}px`;\n  }\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMouseup(e) {\n  let rects;\n  if (_type !== 'area' && (rects = getSelectionRects())) {\n    let svg = findSVGAtPoint(rects[0].left, rects[0].top);\n    saveRect(_type, [...rects].map((r) => {\n      return {\n        top: r.top,\n        left: r.left,\n        width: r.width,\n        height: r.height\n      };\n    }));\n  } else if (_type === 'area' && overlay) {\n    let svg = overlay.parentNode.querySelector(config.annotationSvgQuery());\n    let rect = svg.getBoundingClientRect();\n    saveRect(_type, [{\n      top: parseInt(overlay.style.top, 10) + rect.top,\n      left: parseInt(overlay.style.left, 10) + rect.left,\n      width: parseInt(overlay.style.width, 10),\n      height: parseInt(overlay.style.height, 10)\n    }]);\n\n    overlay.parentNode.removeChild(overlay);\n    overlay = null;\n\n    document.removeEventListener('mousemove', handleDocumentMousemove);\n    enableUserSelect();\n  }\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentKeyup(e) {\n  // Cancel rect if Esc is pressed\n  if (e.keyCode === 27) {\n    let selection = window.getSelection();\n    selection.removeAllRanges();\n    if (overlay && overlay.parentNode) {\n      overlay.parentNode.removeChild(overlay);\n      overlay = null;\n      document.removeEventListener('mousemove', handleDocumentMousemove);\n    }\n  }\n}\n\n/**\n * Save a rect annotation\n *\n * @param {String} type The type of rect (area, highlight, strikeout)\n * @param {Array} rects The rects to use for annotation\n * @param {String} color The color of the rects\n */\nfunction saveRect(type, rects, color) {\n  let svg = findSVGAtPoint(rects[0].left, rects[0].top);\n  let annotation;\n\n  if (!svg) {\n    return;\n  }\n\n  let boundingRect = svg.getBoundingClientRect();\n\n  if (!color) {\n    if (type === 'highlight') {\n      color = 'FFFF00';\n    } else if (type === 'strikeout') {\n      color = 'FF0000';\n    }\n  }\n\n  // Initialize the annotation\n  annotation = {\n    type,\n    color,\n    rectangles: [...rects].map((r) => {\n      let offset = 0;\n\n      if (type === 'strikeout') {\n        offset = r.height / 2;\n      }\n\n      return convertToSvgRect({\n        y: (r.top + offset) - boundingRect.top,\n        x: r.left - boundingRect.left,\n        width: r.width,\n        height: r.height\n      }, svg);\n    }).filter((r) => r.width > 0 && r.height > 0 && r.x > -1 && r.y > -1)\n  };\n  \n  // Short circuit if no rectangles exist\n  if (annotation.rectangles.length === 0) {\n    return;\n  }\n\n  // Special treatment for area as it only supports a single rect\n  if (type === 'area') {\n    let rect = annotation.rectangles[0];\n    delete annotation.rectangles;\n    annotation.x = rect.x;\n    annotation.y = rect.y;\n    annotation.width = rect.width;\n    annotation.height = rect.height;\n  }\n\n  let { documentId, pageNumber } = getMetadata(svg);\n\n  // Add the annotation\n  PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n    .then((annotation) => {\n      appendChild(svg, annotation);\n    });\n}\n\n/**\n * Enable rect behavior\n */\nexport function enableRect(type) {\n  _type = type;\n  \n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  document.addEventListener('keyup', handleDocumentKeyup);\n}\n\n/**\n * Disable rect behavior\n */\nexport function disableRect() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/rect.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport config from '../config';\nimport { appendChild } from '../render/appendChild';\nimport {\n  findSVGAtPoint,\n  getMetadata,\n  convertToSvgPoint\n} from './utils';\n\nlet _enabled = false;\nlet _type;\nlet _circleRadius = 10;\nlet _circleColor = '0000FF';\n\n/**\n * Set the attributes of the pen.\n *\n * @param {Number} circleRadius The radius of the circle\n * @param {String} circleColor The color of the circle\n */\nexport function setCircle(circleRadius = 10, circleColor = '0000FF') {\n  _circleRadius = parseInt(circleRadius, 10);\n  _circleColor = circleColor;\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMouseup(e) {\n  let svg = findSVGAtPoint(e.clientX, e.clientY);\n  if (!svg) {\n    return;\n  }\n  let rect = svg.getBoundingClientRect();\n  saveCircle(svg, _type, {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    }, _circleRadius, _circleColor\n  );\n}\n\n/**\n * Save a circle annotation\n *\n * @param {String} type The type of circle (circle, emptycircle, fillcircle)\n * @param {Object} pt The point to use for annotation\n * @param {String} color The color of the rects\n */\nfunction saveCircle(svg, type, pt, radius, color) {\n  // Initialize the annotation\n  let svg_pt = convertToSvgPoint([ pt.x, pt.y ], svg)\n  let annotation = {\n    type,\n    color,\n    cx: svg_pt[0],\n    cy: svg_pt[1],\n    r: radius\n  };\n\n  let { documentId, pageNumber } = getMetadata(svg);\n\n  // Add the annotation\n  PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n    .then((annotation) => {\n      appendChild(svg, annotation);\n    });\n}\n\n/**\n * Enable circle behavior\n */\nexport function enableCircle(type) {\n  _type = type;\n  \n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Disable circle behavior\n */\nexport function disableCircle() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\nexport function addCircle(type, e) {\n  let oldType = _type;\n  _type = type;\n  handleDocumentMouseup(e);\n  _type = oldType; \n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/circle.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport { appendChild } from '../render/appendChild';\nimport {\n  BORDER_COLOR,\n  findSVGAtPoint,\n  getMetadata,\n  convertToSvgPoint\n} from './utils';\n\nlet _enabled = false;\nlet input;\nlet _textSize;\nlet _textColor;\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMouseup(e) {\n  if (input || !findSVGAtPoint(e.clientX, e.clientY)) {\n    return;\n  }\n\n  input = document.createElement('input');\n  input.setAttribute('id', 'pdf-annotate-text-input');\n  input.setAttribute('placeholder', 'Enter text');\n  input.style.border = `3px solid ${BORDER_COLOR}`;\n  input.style.borderRadius = '3px';\n  input.style.position = 'absolute';\n  input.style.top = `${e.clientY}px`;\n  input.style.left = `${e.clientX}px`;\n  input.style.fontSize = `${_textSize}px`;\n\n  input.addEventListener('blur', handleInputBlur);\n  input.addEventListener('keyup', handleInputKeyup);\n\n  document.body.appendChild(input);\n  input.focus();\n}\n\n/**\n * Handle input.blur event\n */\nfunction handleInputBlur() {\n  saveText();\n}\n\n/**\n * Handle input.keyup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleInputKeyup(e) {\n  if (e.keyCode === 27) {\n    closeInput();\n  } else if (e.keyCode === 13) {\n    saveText();\n  }\n}\n\n/**\n * Save a text annotation from input\n */\nfunction saveText() {\n  if (input.value.trim().length > 0) {\n    let clientX = parseInt(input.style.left, 10);\n    let clientY = parseInt(input.style.top, 10);\n    let svg = findSVGAtPoint(clientX, clientY);\n    if (!svg) {\n      return;\n    }\n    let height = _textSize;\n    let { documentId, pageNumber, viewport } = getMetadata(svg);\n    let scale = 1 / viewport.scale;\n    let rect = svg.getBoundingClientRect();\n    let pt = convertToSvgPoint([\n      clientX - rect.left, \n      clientY -  rect.top + height], svg, viewport);\n    let annotation = {\n        type: 'textbox',\n        size: _textSize * scale,\n        color: _textColor,\n        content: input.value.trim(),\n        x: pt[0],\n        y: pt[1],\n        rotation: -viewport.rotation\n    }\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n      .then((annotation) => {\n        appendChild(svg, annotation);\n      });\n  }\n  \n  closeInput();\n}\n\n/**\n * Close the input\n */\nfunction closeInput() {\n  if (input) {\n    input.removeEventListener('blur', handleInputBlur);\n    input.removeEventListener('keyup', handleInputKeyup);\n    document.body.removeChild(input);\n    input = null;\n  }\n}\n\n/**\n * Set the text attributes\n *\n * @param {Number} textSize The size of the text\n * @param {String} textColor The color of the text\n */\nexport function setText(textSize = 12, textColor = '000000') {\n  _textSize = parseInt(textSize, 10);\n  _textColor = textColor;\n}\n\n\n/**\n * Enable text behavior\n */\nexport function enableText() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n\n/**\n * Disable text behavior\n */\nexport function disableText() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/text.js\n **/","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport config from '../config';\nimport renderScreenReaderHints from '../a11y/renderScreenReaderHints';\n\n// Template for creating a new page\nconst PAGE_TEMPLATE = `\n  <div style=\"visibility: hidden;\" class=\"page\" data-loaded=\"false\">\n    <div class=\"canvasWrapper\">\n      <canvas></canvas>\n    </div>\n    <div class=\"` + config.textLayerName + `\"></div>\n    <svg class=\"` + config.annotationLayerName + `\"></svg>\n  </div>\n`;\n\n/**\n * Create a new page to be appended to the DOM.\n *\n * @param {Number} pageNumber The page number that is being created\n * @return {HTMLElement}\n */\nexport function createPage(pageNumber) {\n  let temp = document.createElement('div');\n  temp.innerHTML = PAGE_TEMPLATE;\n\n  let page = temp.children[0];\n  let canvas = page.querySelector('canvas');\n\n  page.setAttribute('id', `pageContainer${pageNumber}`);\n  page.setAttribute('data-page-number', pageNumber);\n\n  canvas.mozOpaque = true;\n  canvas.setAttribute('id', `page${pageNumber}`);\n\n  return page;\n}\n\n/**\n * Render a page that has already been created.\n *\n * @param {Number} pageNumber The page number to be rendered\n * @param {Object} renderOptions The options for rendering\n * @return {Promise} Settled once rendering has completed\n *  A settled Promise will be either:\n *    - fulfilled: [pdfPage, annotations]\n *    - rejected: Error\n */\nexport function renderPage(pageNumber, renderOptions) {\n  let {\n    documentId,\n    pdfDocument,\n    scale,\n    rotate\n  } = renderOptions;\n\n  // Load the page and annotations\n  return Promise.all([\n    pdfDocument.getPage(pageNumber),\n    PDFJSAnnotate.getAnnotations(documentId, pageNumber)\n  ]).then(([pdfPage, annotations]) => {\n    let page = document.getElementById(`pageContainer${pageNumber}`);\n    let svg = page.querySelector(config.annotationClassQuery());\n    let canvas = page.querySelector('.canvasWrapper canvas');\n    let canvasContext = canvas.getContext('2d', {alpha: false});\n    let totalRotation = (rotate + pdfPage.rotate) % 360;\n    let viewport = pdfPage.getViewport(scale, totalRotation);\n    let transform = scalePage(pageNumber, viewport, canvasContext);\n\n    // Render the page\n    return Promise.all([\n      pdfPage.render({ canvasContext, viewport, transform }),\n      PDFJSAnnotate.render(svg, viewport, annotations)\n    ]).then(() => {\n      // Text content is needed for a11y, but is also necessary for creating\n      // highlight and strikeout annotations which require selecting text.\n      return pdfPage.getTextContent({normalizeWhitespace: true}).then((textContent) => {\n        return new Promise((resolve, reject) => {\n          // Render text layer for a11y of text content\n          let textLayer = page.querySelector(config.textClassQuery());\n          let textLayerFactory = new PDFJS.DefaultTextLayerFactory();\n          let textLayerBuilder = textLayerFactory.createTextLayerBuilder(textLayer, pageNumber -1, viewport);\n          textLayerBuilder.setTextContent(textContent);\n          textLayerBuilder.render();\n\n          // Enable a11y for annotations\n          // Timeout is needed to wait for `textLayerBuilder.render`\n          setTimeout(() => {\n            try {\n              renderScreenReaderHints(annotations.annotations);\n              resolve();\n            } catch (e) {\n              reject(e);\n            }\n          });\n        });\n      });\n    }).then(() => {\n      // Indicate that the page was loaded\n      page.setAttribute('data-loaded', 'true');\n\n      return [pdfPage, annotations];\n    });\n  });\n}\n\n/**\n * Scale the elements of a page.\n *\n * @param {Number} pageNumber The page number to be scaled\n * @param {Object} viewport The viewport of the PDF page (see pdfPage.getViewport(scale, rotate))\n * @param {Object} context The canvas context that the PDF page is rendered to\n * @return {Array} The transform data for rendering the PDF page\n */\nfunction scalePage(pageNumber, viewport, context) {\n  let page = document.getElementById(`pageContainer${pageNumber}`);\n  let canvas = page.querySelector('.canvasWrapper canvas');\n  let svg = page.querySelector(config.annotationClassQuery());\n  let wrapper = page.querySelector('.canvasWrapper');\n  let textLayer = page.querySelector(config.textClassQuery());\n  let outputScale = getOutputScale(context);\n  let transform = !outputScale.scaled ? null : [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n  let sfx = approximateFraction(outputScale.sx);\n  let sfy = approximateFraction(outputScale.sy);\n\n  // Adjust width/height for scale\n  page.style.visibility = '';\n  canvas.width = roundToDivide(viewport.width * outputScale.sx, sfx[0]);\n  canvas.height = roundToDivide(viewport.height * outputScale.sy, sfy[0]);\n  canvas.style.width = roundToDivide(viewport.width, sfx[1]) + 'px';\n  canvas.style.height = roundToDivide(viewport.height, sfx[1]) + 'px';\n  svg.setAttribute('width', viewport.width);\n  svg.setAttribute('height', viewport.height);\n  svg.style.width = `${viewport.width}px`;\n  svg.style.height = `${viewport.height}px`;\n  page.style.width = `${viewport.width}px`;\n  page.style.height = `${viewport.height}px`;\n  wrapper.style.width = `${viewport.width}px`;\n  wrapper.style.height = `${viewport.height}px`;\n  textLayer.style.width = `${viewport.width}px`;\n  textLayer.style.height = `${viewport.height}px`;\n\n  return transform;\n}\n\n\n/**\n * Approximates a float number as a fraction using Farey sequence (max order of 8).\n *\n * @param {Number} x Positive float number\n * @return {Array} Estimated fraction: the first array item is a numerator,\n *                 the second one is a denominator.\n */\nfunction approximateFraction(x) {\n  // Fast path for int numbers or their inversions.\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  \n  // a/b and c/d are neighbours in Farey sequence.\n  let a = 0, b = 1, c = 1, d = 1;\n  \n  // Limit search to order 8.\n  while (true) {\n    // Generating next term in sequence (order of q).\n    let p = a + c, q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p; d = q;\n    } else {\n      a = p; b = q;\n    }\n  }\n\n  // Select closest of neighbours to x.\n  if (x_ - a / b < c / d - x_) {\n    return x_ === x ? [a, b] : [b, a];\n  } else {\n    return x_ === x ? [c, d] : [d, c];\n  }\n}\n\nfunction getOutputScale(ctx) {\n  let devicePixelRatio = window.devicePixelRatio || 1;\n  let backingStoreRatio = ctx.webkitBackingStorePixelRatio ||\n                          ctx.mozBackingStorePixelRatio ||\n                          ctx.msBackingStorePixelRatio ||\n                          ctx.oBackingStorePixelRatio ||\n                          ctx.backingStorePixelRatio || 1;\n  let pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction roundToDivide(x, div) {\n  let r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/UI/page.js\n **/","// Color picker component\nconst COLORS = [\n  {hex: 'darkgoldenrod', name: 'Delete Color'},\n  {hex: '#000000', name: 'Black'},\n  {hex: '#EF4437', name: 'Red'},\n  {hex: '#E71F63', name: 'Pink'},\n  {hex: '#8F3E97', name: 'Purple'},\n  {hex: '#65499D', name: 'Deep Purple'},\n  {hex: '#4554A4', name: 'Indigo'},\n  {hex: '#2083C5', name: 'Blue'},\n  {hex: '#35A4DC', name: 'Light Blue'},\n  {hex: '#09BCD3', name: 'Cyan'},\n  {hex: '#009688', name: 'Teal'},\n  {hex: '#43A047', name: 'Green'},\n  {hex: '#8BC34A', name: 'Light Green'},\n  {hex: '#FDC010', name: 'Yellow'},\n  {hex: '#F8971C', name: 'Orange'},\n  {hex: '#F0592B', name: 'Deep Orange'},\n  {hex: '#F06291', name: 'Light Pink'}\n];\n\nexport default function initColorPicker(el, value, onChange) {\n  function setColor(value, fireOnChange = true) {\n    currentValue = value;\n    a.setAttribute('data-color', value);\n    a.style.background = value;\n    if (fireOnChange && typeof onChange === 'function') {\n      onChange(value);\n    }\n    closePicker();\n  }\n\n  function togglePicker() {\n    if (isPickerOpen) {\n      closePicker();\n    } else {\n      openPicker();\n    }\n  }\n\n  function closePicker() {\n    document.removeEventListener('keyup', handleDocumentKeyup);\n    if (picker && picker.parentNode) {\n      picker.parentNode.removeChild(picker);\n    }\n    isPickerOpen = false;\n    a.focus();\n  }\n\n  function openPicker() {\n    if (!picker) {\n      picker = document.createElement('div');\n      picker.style.background = '#fff';\n      picker.style.border = '1px solid #ccc';\n      picker.style.padding = '2px';\n      picker.style.position = 'absolute';\n      picker.style.width = '122px';\n      el.style.position = 'relative';\n\n      COLORS.map(createColorOption).forEach((c) => {\n        c.style.margin = '2px';\n        c.onclick = function () { setColor(c.getAttribute('data-color')); };\n        picker.appendChild(c);\n      });\n    }\n\n    document.addEventListener('keyup', handleDocumentKeyup);\n    el.appendChild(picker);\n    isPickerOpen = true;\n  }\n\n  function createColorOption(color) {\n    let e = document.createElement('a');\n    e.className = 'color';\n    e.setAttribute('href', 'javascript://');\n    e.setAttribute('title', color.name);\n    e.setAttribute('data-color', color.hex);\n    e.style.background = color.hex;\n    return e;\n  }\n\n  function handleDocumentKeyup(e) {\n    if (e.keyCode === 27) {\n      closePicker();\n    }\n  }\n\n  let picker;\n  let isPickerOpen = false;\n  let currentValue;\n  let a = createColorOption({hex: value});\n  a.onclick = togglePicker;\n  el.appendChild(a);\n  setColor(value, false);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./prebuild/shared/initColorPicker.js\n **/","import pdfjs from \"../../\";\nimport axios from \"axios\";\n\nlet { StoreAdapter } = pdfjs;\n\nexport class Http2 extends StoreAdapter {\n    constructor() {\n\n        var root = \"/api/annotation\";\n\n        super({\n            getAnnotations(documentId, pageNumber) {\n                console.log(\"get annotations\");\n                var url = `${root}/getAnnotations`;\n                return new Promise((ok, err) => {\n                    axios.post(url, {\n                        document: documentId,\n                        page: pageNumber\n                    }).then(res => {\n                        ok(res.data);\n                    })\n                });\n            },\n\n            getAnnotation(documentId, annotationId) {\n                var url = `${root}/getAnnotation`;\n                return new Promise((resolve, reject) => {\n                    axios.post(url, {\n                        document: documentId,\n                        uuid: annotationId\n                    }).then(rs => {\n                        resolve(rs.data);\n                    });\n                });\n            },\n\n            addAnnotation(documentId, pageNumber, annotation) {\n                console.log(annotation);\n                var url = `${root}/addAnnotation`;\n                return new Promise((resolve, reject) => {\n                    annotation.page = pageNumber;\n                    annotation.document = documentId\n                    axios.post(url, annotation).then(rs => {\n                        resolve(rs.data);\n                    })\n                });\n            },\n\n            editAnnotation(documentId, annotationId, annotation) {\n                console.log(\"edit annotation\");\n                var url = `${root}/editAnnotation`;\n                return new Promise((ok, err) => {\n                    annotation.document = documentId;\n                    annotation.uuid = annotationId;\n                    axios.post(url, annotation).then(rs => {\n                        ok(rs.data);\n                    })\n                });\n            },\n\n            deleteAnnotation(documentId, annotationId) {\n                var url = `${root}/deleteAnnotation`;\n                return new Promise((ok, err) => {\n                    axios.post(url, {\n                        uuid: annotationId,\n                        document: documentId\n                    }).then(rs => {\n                        ok(rs.data);\n                    });\n                });\n            },\n\n            getComments(documentId, annotationId) {\n                var url = `${root}/getComments`;\n                return new Promise((ok, err) => {\n                    axios.post(url, {\n                        document: documentId,\n                        annotation: annotationId\n                    }).then(rs => {\n                        ok(rs.data);\n                    })\n                });\n            },\n\n            addComment(documentId, annotationId, content) {\n                var url = `${root}/addComment`;\n                return new Promise((ok, err) => {\n                    var comment = {\n                        document: documentId,\n                        annotation: annotationId,\n                        content: content\n                    }\n                    axios.post(url, comment).then(rs => {\n                        ok(rs.data);\n                    })\n                });\n            },\n\n            deleteComment(documentId, commentId) {\n                var url = `${root}/deleteComment`;\n                return new Promise((ok, err) => {\n                    axios.post(url, {\n                        document: documentId,\n                        uuid: commentId\n                    })\n                });\n            }\n        });\n    }\n}\n\n// StoreAdapter for working with localStorage\n// This is ideal for testing, examples, and prototyping\nexport class HttpStorageAdapter extends StoreAdapter {\n    constructor() {\n        super({\n            getAnnotations(documentId, pageNumber) {\n                return new Promise((resolve, reject) => {\n                    let annotations = getAnnotations(documentId).filter((i) => {\n                        return i.page === pageNumber && i.class === 'Annotation';\n                    });\n\n                    resolve({\n                        documentId,\n                        pageNumber,\n                        annotations\n                    });\n                });\n            },\n\n            getAnnotation(documentId, annotationId) {\n                return Promise.resolve(getAnnotations(documentId)[findAnnotation(documentId, annotationId)]);\n            },\n\n            addAnnotation(documentId, pageNumber, annotation) {\n                return new Promise((resolve, reject) => {\n                    annotation.class = 'Annotation';\n                    annotation.uuid = uuid();\n                    annotation.page = pageNumber;\n\n                    let annotations = getAnnotations(documentId);\n                    annotations.push(annotation);\n                    updateAnnotations(documentId, annotations);\n\n                    resolve(annotation);\n                });\n            },\n\n            editAnnotation(documentId, annotationId, annotation) {\n                return new Promise((resolve, reject) => {\n                    let annotations = getAnnotations(documentId);\n                    annotations[findAnnotation(documentId, annotationId)] = annotation;\n                    updateAnnotations(documentId, annotations);\n\n                    resolve(annotation);\n                });\n            },\n\n            deleteAnnotation(documentId, annotationId) {\n                return new Promise((resolve, reject) => {\n                    let index = findAnnotation(documentId, annotationId);\n                    if (index > -1) {\n                        let annotations = getAnnotations(documentId);\n                        annotations.splice(index, 1);\n                        updateAnnotations(documentId, annotations);\n                    }\n\n                    resolve(true);\n                });\n            },\n\n            getComments(documentId, annotationId) {\n                return new Promise((resolve, reject) => {\n                    resolve(getAnnotations(documentId).filter((i) => {\n                        return i.class === 'Comment' && i.annotation === annotationId;\n                    }));\n                });\n            },\n\n            addComment(documentId, annotationId, content) {\n                return new Promise((resolve, reject) => {\n                    let comment = {\n                        class: 'Comment',\n                        uuid: uuid(),\n                        annotation: annotationId,\n                        content: content\n                    };\n\n                    let annotations = getAnnotations(documentId);\n                    annotations.push(comment);\n                    updateAnnotations(documentId, annotations);\n\n                    resolve(comment);\n                });\n            },\n\n            deleteComment(documentId, commentId) {\n                return new Promise((resolve, reject) => {\n                    getAnnotations(documentId);\n                    let index = -1;\n                    let annotations = getAnnotations(documentId);\n                    for (let i = 0, l = annotations.length; i < l; i++) {\n                        if (annotations[i].uuid === commentId) {\n                            index = i;\n                            break;\n                        }\n                    }\n\n                    if (index > -1) {\n                        annotations.splice(index, 1);\n                        updateAnnotations(documentId, annotations);\n                    }\n\n                    resolve(true);\n                });\n            }\n        });\n    }\n}\n\nfunction getAnnotations(documentId) {\n    return JSON.parse(localStorage.getItem(`${documentId}/annotations`)) || [];\n}\n\nfunction updateAnnotations(documentId, annotations) {\n    localStorage.setItem(`${documentId}/annotations`, JSON.stringify(annotations));\n}\n\nfunction findAnnotation(documentId, annotationId) {\n    let index = -1;\n    let annotations = getAnnotations(documentId);\n    for (let i = 0, l = annotations.length; i < l; i++) {\n        if (annotations[i].uuid === annotationId) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./customize.client/customize/HttpStorage.js\n **/","module.exports = require('./lib/axios');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/index.js\n ** module id = 45\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/axios.js\n ** module id = 46\n ** module chunks = 0\n **/","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/utils.js\n ** module id = 47\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/bind.js\n ** module id = 48\n ** module chunks = 0\n **/","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/is-buffer/index.js\n ** module id = 49\n ** module chunks = 0\n **/","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/Axios.js\n ** module id = 50\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/defaults.js\n ** module id = 51\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 52\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/normalizeHeaderName.js\n ** module id = 53\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/adapters/xhr.js\n ** module id = 54\n ** module chunks = 0\n **/","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/settle.js\n ** module id = 55\n ** module chunks = 0\n **/","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/createError.js\n ** module id = 56\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/enhanceError.js\n ** module id = 57\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/buildURL.js\n ** module id = 58\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/parseHeaders.js\n ** module id = 59\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/isURLSameOrigin.js\n ** module id = 60\n ** module chunks = 0\n **/","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/btoa.js\n ** module id = 61\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/cookies.js\n ** module id = 62\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/InterceptorManager.js\n ** module id = 63\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/dispatchRequest.js\n ** module id = 64\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/core/transformData.js\n ** module id = 65\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/cancel/isCancel.js\n ** module id = 66\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/isAbsoluteURL.js\n ** module id = 67\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/combineURLs.js\n ** module id = 68\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/cancel/Cancel.js\n ** module id = 69\n ** module chunks = 0\n **/","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/cancel/CancelToken.js\n ** module id = 70\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/axios/lib/helpers/spread.js\n ** module id = 71\n ** module chunks = 0\n **/"],"sourceRoot":""}